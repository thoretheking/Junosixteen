# Cursor Project Rules â€“ JunoSixteen + Google Mangle

## ğŸ¯ Google Mangle Regelwerk-System

### Regelorganisation
- Alle Mangle-Regeln liegen unter `/rules` als `*.mg` (progress.mg, game.mg, time.mg, recommend.mg, certs.mg)
- Kommentare in .mg sind auf Deutsch, jede Regel hat 1â€“2 erklÃ¤rende Kommentarzeilen (WAS & WARUM)
- FÃ¼r jedes Regelpaket existieren Golden-Tests unter `/rules/tests/<paket>/`
- Facts (Fakten) liegen als JSON unter `/rules/fixtures/*.json` (IDs statt Klarnamen)

### Backend-Integration
- Im Node-Adapter `/backend/policy.ts` werden ausschlieÃŸlich die Mangle-Entscheidungen angewendet (keine Duplikat-Logik)
- Negative Tests (Gegenbeweise) sind Pflicht: jeder Testfall sollte eine "nicht zutreffen"-Variante haben

### DSGVO-Compliance
- Keine PII in Facts; nur IDs und Metadaten (Zeitstempel, Level, Frage, Punktzahlen)
- Alle personenbezogenen Daten werden pseudonymisiert verarbeitet
- Audit-Logs enthalten nur anonymisierte Referenzen

## ğŸ® JunoSixteen Spezifische Regeln

### Gamification-Engine
- Alle Spielregeln (Punkte, Badges, Level) werden Ã¼ber Mangle-Regeln definiert
- Fortschrittslogik erfolgt regelbasiert ohne Hardcoding
- Adaptive Schwierigkeitsanpassung Ã¼ber Mangle-Policies

### Fragenmanagement
- Fragenpools werden Ã¼ber Mangle-Regeln kategorisiert und zugewiesen
- KI-Fragengenerierung folgt Mangle-definierten Parametern
- QualitÃ¤tskontrolle und -bewertung Ã¼ber Regelwerk

### Zertifizierungssystem
- Zertifikatsausstellung folgt Mangle-Policies (certs.mg)
- Validierung und Verifizierung regelbasiert
- Compliance-Anforderungen Ã¼ber Mangle-Regeln abgebildet

## ğŸ“ Verzeichnisstruktur

```
/rules/
â”œâ”€â”€ progress.mg          # Fortschritts- und Level-Regeln
â”œâ”€â”€ game.mg             # Gamification und Punktesystem
â”œâ”€â”€ time.mg             # Zeitbasierte Regeln und Deadlines
â”œâ”€â”€ recommend.mg        # Empfehlungsalgorithmen
â”œâ”€â”€ certs.mg            # Zertifikatserstellung und -validierung
â”œâ”€â”€ fixtures/
â”‚   â”œâ”€â”€ users.json      # Benutzer-IDs und Metadaten
â”‚   â”œâ”€â”€ questions.json  # Fragen-IDs und Kategorien
â”‚   â”œâ”€â”€ levels.json     # Level-Definitionen
â”‚   â””â”€â”€ badges.json     # Badge-Konfiguration
â””â”€â”€ tests/
    â”œâ”€â”€ progress/
    â”œâ”€â”€ game/
    â”œâ”€â”€ time/
    â”œâ”€â”€ recommend/
    â””â”€â”€ certs/
```

## ğŸ”§ Entwicklungsrichtlinien

### Code-Struktur
- Trennung von GeschÃ¤ftslogik (Mangle-Regeln) und Implementation (TypeScript/Node.js)
- Alle Entscheidungslogik erfolgt Ã¼ber Mangle-Engine
- Backend fungiert als dÃ¼nnere Adapter-Schicht

### Testing-Philosophie
- Jede Mangle-Regel hat positive und negative TestfÃ¤lle
- Golden-Tests dokumentieren erwartetes Verhalten
- Regression-Tests bei RegelÃ¤nderungen

### Performance
- Mangle-Evaluierung wird gecacht wo mÃ¶glich
- RegelkomplexitÃ¤t wird Ã¼berwacht
- Batch-Verarbeitung fÃ¼r groÃŸe Datenmengen

## ğŸ›¡ï¸ Sicherheit & Compliance

### Datenschutz
- Alle Mangle-Facts sind DSGVO-konform anonymisiert
- Keine direkten PersonenbezÃ¼ge in Regelwerk
- Audit-Trail fÃ¼r alle Regelentscheidungen

### QualitÃ¤tssicherung
- Mangle-Regeln werden versioniert
- Code-Reviews fÃ¼r alle RegelÃ¤nderungen
- Automatisierte Regel-Validierung

## ğŸš€ Deployment & Monitoring

### Regel-Deployment
- Mangle-Regeln werden separat von Code deployed
- Canary-Releases fÃ¼r kritische RegelÃ¤nderungen
- Rollback-Mechanismen fÃ¼r RegelÃ¤nderungen

### Monitoring
- Mangle-Performance wird Ã¼berwacht
- Regel-Evaluierung wird geloggt
- Anomalie-Erkennung bei unerwarteten Entscheidungen

## ğŸ“‹ Best Practices

### Regel-Design
- Regeln sind selbsterklÃ¤rend und gut dokumentiert
- Modulare Struktur fÃ¼r Wiederverwendbarkeit
- Versionierung und Backward-Compatibility

### Maintenance
- RegelmÃ¤ÃŸige Review der Mangle-Regeln
- Performance-Optimierung basierend auf Metriken
- Kontinuierliche Verbesserung der Regel-QualitÃ¤t 