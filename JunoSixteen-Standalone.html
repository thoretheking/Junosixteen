<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöÄ JunoSixteen - Gamifizierte Lernplattform</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .ai-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.9);
            padding: 10px 15px;
            border-radius: 20px;
            font-weight: bold;
            color: #667eea;
            animation: pulse 2s infinite;
            z-index: 1000;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .main-area {
            background: white;
            border-radius: 20px;
            padding: 30px;
            min-height: 500px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        /* ===================================================
           üîê LOGIN SCREEN STYLES
           =================================================== */
        .login-screen {
            text-align: center;
        }

        .login-title {
            font-size: 2.5rem;
            color: #667eea;
            margin-bottom: 30px;
        }

        .characters-container {
            display: flex;
            justify-content: center;
            gap: 50px;
            margin: 40px 0;
        }

        .character {
            text-align: center;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .character:hover {
            transform: scale(1.1);
        }

        .character-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(135deg, #4ECDC4, #44A08D);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            margin-bottom: 15px;
            border: 4px solid white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .character-name {
            font-size: 1.3rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }

        .character-role {
            color: #666;
            font-size: 0.9rem;
        }

        .speech-bubble {
            background: #f0f4ff;
            border: 2px solid #667eea;
            border-radius: 20px;
            padding: 20px;
            margin: 30px auto;
            max-width: 600px;
            position: relative;
        }

        .speech-bubble::before {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            border: 10px solid transparent;
            border-top-color: #667eea;
        }

        .login-form {
            max-width: 400px;
            margin: 30px auto;
        }

        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .form-label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #333;
        }

        .form-input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: #667eea;
        }

        .login-button {
            background: linear-gradient(135deg, #4ECDC4, #44A08D);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1rem;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            width: 100%;
            transition: transform 0.2s ease;
        }

        .login-button:hover {
            transform: scale(1.02);
        }

        /* ===================================================
           üéØ PATH SELECTION MENU STYLES
           =================================================== */
        .path-menu {
            display: none;
        }

        .welcome-banner {
            background: linear-gradient(135deg, #4ECDC4, #44A08D);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
        }

        .welcome-title {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .welcome-subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .user-info {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(255,255,255,0.9);
            padding: 10px 15px;
            border-radius: 20px;
            font-weight: bold;
            color: #667eea;
        }

        .path-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .path-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .path-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #4ECDC4, #44A08D);
        }

        .path-card:hover {
            transform: translateY(-8px);
            border-color: #667eea;
            box-shadow: 0 12px 35px rgba(0,0,0,0.15);
        }

        .path-icon {
            font-size: 3.5rem;
            margin-bottom: 20px;
            text-align: center;
        }

        .path-title {
            font-size: 1.4rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 15px;
            text-align: center;
        }

        .path-description {
            color: #666;
            line-height: 1.6;
            margin-bottom: 20px;
            text-align: center;
        }

        .path-features {
            list-style: none;
            margin-bottom: 20px;
        }

        .path-features li {
            padding: 5px 0;
            color: #555;
            position: relative;
            padding-left: 20px;
        }

        .path-features li::before {
            content: '‚úì';
            position: absolute;
            left: 0;
            color: #4ECDC4;
            font-weight: bold;
        }

                 .path-badge {
             display: inline-block;
             background: #f0f4ff;
             color: #667eea;
             padding: 5px 15px;
             border-radius: 20px;
             font-size: 0.9rem;
             font-weight: bold;
             margin-bottom: 15px;
         }

         .path-meta {
             display: flex;
             flex-wrap: wrap;
             gap: 10px;
             margin-bottom: 15px;
         }

         .meta-item {
             background: #f8f9fa;
             color: #555;
             padding: 4px 8px;
             border-radius: 12px;
             font-size: 0.8rem;
             font-weight: 500;
         }

         .path-rewards {
             display: flex;
             flex-wrap: wrap;
             gap: 10px;
             margin-bottom: 15px;
             align-items: center;
         }

         .xp-badge {
             background: linear-gradient(135deg, #4ECDC4, #44A08D);
             color: white;
             padding: 5px 12px;
             border-radius: 15px;
             font-size: 0.85rem;
             font-weight: bold;
         }

         .badge-reward {
             background: #fff4e6;
             color: #d17712;
             padding: 5px 12px;
             border-radius: 15px;
             font-size: 0.85rem;
             font-weight: bold;
             border: 1px solid #f4b942;
         }

         .target-tag {
             background: #e3f2fd;
             color: #1976d2;
             padding: 3px 8px;
             border-radius: 12px;
             font-size: 0.75rem;
             font-weight: 500;
             border: 1px solid #bbdefb;
         }

         .special-features {
             background: #f8fffe;
             border: 1px solid #b2dfdb;
             border-radius: 10px;
             padding: 12px;
         }

         /* ===================================================
            üîß CUSTOM PATH BUILDER STYLES
            =================================================== */
         .custom-path-container {
             background: #f8f9fa;
             border-radius: 15px;
             padding: 25px;
             margin-bottom: 20px;
         }

         .role-selector {
             margin-bottom: 25px;
             padding-bottom: 20px;
             border-bottom: 2px solid #e0e0e0;
         }

         .role-options {
             display: flex;
             gap: 15px;
             flex-wrap: wrap;
         }

         .role-option {
             display: flex;
             align-items: center;
             gap: 8px;
             cursor: pointer;
             padding: 10px 15px;
             border: 2px solid #e0e0e0;
             border-radius: 20px;
             background: white;
             transition: all 0.3s ease;
         }

         .role-option:hover {
             border-color: #667eea;
             background: #f0f4ff;
         }

         .role-option input[type="radio"]:checked + span {
             color: #667eea;
             font-weight: bold;
         }

         .role-option input[type="radio"] {
             display: none;
         }

         .method-tabs {
             display: flex;
             gap: 5px;
             margin-bottom: 20px;
             border-bottom: 2px solid #e0e0e0;
         }

         .method-tab {
             background: none;
             border: none;
             padding: 12px 20px;
             cursor: pointer;
             border-radius: 10px 10px 0 0;
             transition: all 0.3s ease;
             font-weight: 500;
         }

         .method-tab:hover {
             background: #f0f4ff;
         }

         .method-tab.active {
             background: #667eea;
             color: white;
         }

         .form-section {
             background: white;
             border-radius: 15px;
             padding: 20px;
         }

         .path-input {
             width: 100%;
             padding: 15px;
             border: 2px solid #e0e0e0;
             border-radius: 10px;
             font-size: 1rem;
             line-height: 1.5;
             resize: vertical;
             margin-bottom: 20px;
             font-family: inherit;
         }

         .path-input:focus {
             outline: none;
             border-color: #667eea;
         }

         .quick-prompts {
             margin-bottom: 20px;
         }

         .quick-prompts h5 {
             margin-bottom: 10px;
             color: #667eea;
         }

         .quick-prompt {
             background: #f0f4ff;
             border: 1px solid #667eea;
             color: #667eea;
             padding: 8px 15px;
             border-radius: 20px;
             margin: 5px;
             cursor: pointer;
             transition: all 0.3s ease;
             font-size: 0.9rem;
         }

         .quick-prompt:hover {
             background: #667eea;
             color: white;
         }

         .advanced-options details {
             margin-top: 20px;
         }

         .advanced-options summary {
             cursor: pointer;
             font-weight: bold;
             color: #667eea;
             padding: 10px 0;
         }

         .option-grid {
             display: grid;
             grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
             gap: 15px;
             margin-top: 15px;
         }

         .option-grid label {
             display: flex;
             flex-direction: column;
             gap: 5px;
         }

         .option-grid span {
             font-weight: 500;
             color: #333;
         }

         .form-select {
             padding: 8px 12px;
             border: 1px solid #e0e0e0;
             border-radius: 8px;
             background: white;
         }

         .upload-area {
             border: 3px dashed #667eea;
             border-radius: 15px;
             padding: 40px;
             text-align: center;
             cursor: pointer;
             transition: all 0.3s ease;
             margin-bottom: 20px;
         }

         .upload-area:hover {
             border-color: #4ECDC4;
             background: #f0f4ff;
         }

         .upload-content {
             display: flex;
             flex-direction: column;
             align-items: center;
             gap: 10px;
         }

         .upload-icon {
             font-size: 3rem;
         }

         .file-types {
             color: #666;
             font-size: 0.9rem;
         }

         .upload-examples ul {
             list-style: none;
             padding-left: 0;
         }

         .upload-examples li {
             padding: 5px 0;
             color: #555;
         }

         .processing-steps {
             display: grid;
             grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
             gap: 15px;
             margin-top: 10px;
         }

         .step {
             background: #f0f4ff;
             padding: 10px;
             border-radius: 10px;
             border-left: 4px solid #667eea;
             font-size: 0.9rem;
         }

         .path-search {
             margin-bottom: 20px;
         }

         .search-input {
             width: 100%;
             padding: 12px 15px;
             border: 2px solid #e0e0e0;
             border-radius: 25px;
             font-size: 1rem;
             margin-bottom: 15px;
         }

         .search-filters {
             display: flex;
             gap: 10px;
             flex-wrap: wrap;
         }

         .filter-btn {
             background: #f0f0f0;
             border: none;
             padding: 8px 15px;
             border-radius: 20px;
             cursor: pointer;
             transition: all 0.3s ease;
         }

         .filter-btn.active {
             background: #667eea;
             color: white;
         }

         .existing-paths-list {
             display: flex;
             flex-direction: column;
             gap: 15px;
         }

         .existing-path {
             display: flex;
             justify-content: space-between;
             align-items: center;
             background: white;
             padding: 15px;
             border-radius: 10px;
             border: 1px solid #e0e0e0;
         }

         .path-info h5 {
             margin-bottom: 5px;
             color: #667eea;
         }

         .path-info p {
             margin-bottom: 8px;
             color: #666;
             font-size: 0.9rem;
         }

         .path-tags {
             display: flex;
             gap: 5px;
         }

         .tag {
             background: #e3f2fd;
             color: #1976d2;
             padding: 2px 8px;
             border-radius: 12px;
             font-size: 0.75rem;
             font-weight: 500;
         }

         .duplicate-btn {
             background: #4ECDC4;
             color: white;
             border: none;
             padding: 8px 15px;
             border-radius: 15px;
             cursor: pointer;
             font-weight: 500;
             transition: all 0.3s ease;
         }

         .duplicate-btn:hover {
             background: #44A08D;
             transform: scale(1.05);
         }

         .action-section {
             display: flex;
             gap: 15px;
             justify-content: center;
             margin-top: 30px;
             flex-wrap: wrap;
         }

         .create-path-btn {
             background: linear-gradient(135deg, #4ECDC4, #44A08D);
             color: white;
             border: none;
             padding: 15px 30px;
             border-radius: 25px;
             font-size: 1.1rem;
             font-weight: bold;
             cursor: pointer;
             transition: all 0.3s ease;
         }

         .create-path-btn:hover {
             transform: scale(1.05);
             box-shadow: 0 5px 15px rgba(78, 205, 196, 0.3);
         }

         .preview-btn {
             background: #667eea;
             color: white;
             border: none;
             padding: 15px 30px;
             border-radius: 25px;
             font-size: 1.1rem;
             font-weight: bold;
             cursor: pointer;
             transition: all 0.3s ease;
         }

         .preview-btn:hover {
             transform: scale(1.05);
             background: #5a67d8;
         }

         /* Generated Path Preview Styles */
         .generated-path-preview {
             background: #f8f9fa;
             border-radius: 15px;
             padding: 25px;
         }

         .path-header {
             text-align: center;
             margin-bottom: 30px;
         }

         .path-metadata {
             display: flex;
             justify-content: center;
             gap: 15px;
             flex-wrap: wrap;
             margin-top: 15px;
         }

         .meta-tag {
             background: #667eea;
             color: white;
             padding: 5px 12px;
             border-radius: 15px;
             font-size: 0.85rem;
             font-weight: 500;
         }

         .levels-grid {
             display: grid;
             grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
             gap: 15px;
             margin-top: 20px;
         }

         .level-card {
             background: white;
             border-radius: 10px;
             padding: 15px;
             border-left: 4px solid #667eea;
             display: flex;
             align-items: center;
             gap: 15px;
             box-shadow: 0 2px 8px rgba(0,0,0,0.1);
         }

         .level-card.risk {
             border-left-color: #ff6b6b;
             background: #fff5f5;
         }

         .level-card.team {
             border-left-color: #4ECDC4;
             background: #f0fffe;
         }

         .level-card.final {
             border-left-color: #f4b942;
             background: #fffbf0;
         }

         .level-number {
             width: 40px;
             height: 40px;
             border-radius: 50%;
             background: #667eea;
             color: white;
             display: flex;
             align-items: center;
             justify-content: center;
             font-weight: bold;
             font-size: 1.2rem;
             flex-shrink: 0;
         }

         .level-card.risk .level-number {
             background: #ff6b6b;
         }

         .level-card.team .level-number {
             background: #4ECDC4;
         }

         .level-card.final .level-number {
             background: #f4b942;
         }

         .level-content h4 {
             margin-bottom: 5px;
             color: #333;
         }

         .level-content p {
             color: #666;
             font-size: 0.9rem;
             margin: 0;
         }

         .path-features-summary {
             margin-top: 30px;
             background: white;
             border-radius: 15px;
             padding: 20px;
         }

         .features-list {
             display: grid;
             grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
             gap: 15px;
             margin-top: 15px;
         }

         .feature-item {
             background: #f0f4ff;
             padding: 12px;
             border-radius: 10px;
             border-left: 4px solid #4ECDC4;
             font-size: 0.9rem;
         }

         .action-buttons-final {
             display: flex;
             gap: 15px;
             justify-content: center;
             margin-top: 30px;
             flex-wrap: wrap;
         }

         /* Processing Animation */
         @keyframes spin {
             from { transform: rotate(0deg); }
             to { transform: rotate(360deg); }
         }

         .status-step {
             padding: 8px 15px;
             margin: 5px 0;
             border-radius: 20px;
             background: #f0f0f0;
             color: #666;
             transition: all 0.3s ease;
         }

         .status-step.active {
             background: #667eea;
             color: white;
             font-weight: bold;
         }

         .status-step.completed {
             background: #4ECDC4;
             color: white;
         }

         .status-step.completed::after {
             content: ' ‚úì';
         }

         /* ===================================================
            üé≠ AVATAR SELECTION STYLES
            =================================================== */
         .avatar-selection-screen {
             padding: 20px;
             max-width: 1200px;
             margin: 0 auto;
         }

         .avatar-grid {
             display: grid;
             grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
             gap: 20px;
             margin: 30px 0;
         }

         .avatar-card {
             background: white;
             border-radius: 15px;
             padding: 20px;
             text-align: center;
             border: 2px solid #e0e0e0;
             cursor: pointer;
             transition: all 0.3s ease;
             position: relative;
         }

         .avatar-card:hover {
             border-color: #667eea;
             transform: translateY(-5px);
             box-shadow: 0 8px 25px rgba(102, 126, 234, 0.2);
         }

         .avatar-card.featured {
             border-color: #4ECDC4;
             background: linear-gradient(135deg, #f8fffe, #ffffff);
         }

         .avatar-card.featured:hover {
             border-color: #44A08D;
             box-shadow: 0 8px 25px rgba(78, 205, 196, 0.3);
         }

         .avatar-preview {
             font-size: 4rem;
             margin-bottom: 15px;
             animation: avatarPulse 2s infinite;
         }

         @keyframes avatarPulse {
             0%, 100% { transform: scale(1); }
             50% { transform: scale(1.05); }
         }

         .avatar-name {
             font-size: 1.5rem;
             font-weight: bold;
             color: #333;
             margin-bottom: 8px;
         }

         .avatar-trait {
             color: #667eea;
             font-weight: 500;
             margin-bottom: 12px;
         }

         .avatar-quote {
             color: #666;
             font-style: italic;
             font-size: 0.9rem;
             line-height: 1.4;
             margin-bottom: 15px;
         }

         .featured-badge {
             position: absolute;
             top: -10px;
             right: -10px;
             background: linear-gradient(135deg, #4ECDC4, #44A08D);
             color: white;
             padding: 5px 10px;
             border-radius: 15px;
             font-size: 0.75rem;
             font-weight: bold;
         }

         .avatar-actions {
             display: flex;
             gap: 20px;
             justify-content: center;
             margin-top: 30px;
         }

         .start-button.secondary {
             background: #f0f0f0;
             color: #333;
         }

         .start-button.secondary:hover {
             background: #e0e0e0;
         }

        .path-progress {
            background: #f0f0f0;
            border-radius: 10px;
            height: 8px;
            margin-bottom: 10px;
            overflow: hidden;
        }

        .path-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4ECDC4, #44A08D);
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        .path-stats {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 15px;
        }

        /* Special card styles */
        .path-card.premium {
            background: linear-gradient(135deg, #ffeaa7, #fab1a0);
            color: #2d3436;
        }

        .path-card.premium::before {
            background: linear-gradient(90deg, #fdcb6e, #e17055);
        }

        .path-card.new::after {
            content: 'NEU!';
            position: absolute;
            top: 15px;
            right: 15px;
            background: #ff6b6b;
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        /* ===================================================
           üéÆ EXISTING QUIZ & MINIGAME STYLES (unchanged)
           =================================================== */
        .quiz-screen, .minigame-selection, .minigame-active {
            display: none;
        }

        .quiz-header, .minigame-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #f0f0f0;
        }

        .quiz-stats {
            display: flex;
            gap: 20px;
            font-weight: bold;
        }

        .question-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
        }

        .question-text {
            font-size: 1.3rem;
            line-height: 1.6;
            margin-bottom: 25px;
            color: #333;
        }

        .answers-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .answer-button {
            background: white;
            border: 2px solid #e0e0e0;
            padding: 15px 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            font-size: 1rem;
        }

        .answer-button:hover {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .answer-button.selected {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .answer-button.correct {
            background: #4ECDC4;
            color: white;
            border-color: #4ECDC4;
        }

        .answer-button.incorrect {
            background: #ff6b6b;
            color: white;
            border-color: #ff6b6b;
        }

        .completion-banner {
            background: linear-gradient(135deg, #4ECDC4, #44A08D);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
        }

        .completion-title {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .completion-stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 15px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .minigame-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .minigame-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: transform 0.3s ease;
            border: 3px solid transparent;
            text-align: center;
        }

        .minigame-card:hover {
            transform: translateY(-5px);
            border-color: #667eea;
        }

        .minigame-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .minigame-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
        }

        .minigame-description {
            color: #666;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .minigame-reward {
            color: #4ECDC4;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .minigame-timer {
            font-size: 1.2rem;
            font-weight: bold;
            color: #ff6b6b;
        }

        .minigame-score {
            font-size: 1.2rem;
            font-weight: bold;
            color: #4ECDC4;
        }

        .instruction-text {
            text-align: center;
            font-size: 1.1rem;
            margin-bottom: 20px;
            color: #666;
        }

        /* Memory Game Styles */
        .memory-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            max-width: 400px;
            margin: 0 auto;
        }

        .memory-card {
            aspect-ratio: 1;
            background: #667eea;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            color: white;
        }

        .memory-card:hover {
            transform: scale(1.05);
        }

        .memory-card.flipped {
            background: white;
            border: 3px solid #667eea;
            color: #333;
        }

        .memory-card.matched {
            background: #4ECDC4;
            opacity: 0.6;
        }

        /* Results Modal */
        .results-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            max-width: 500px;
            width: 90%;
        }

        .modal-title {
            font-size: 2rem;
            color: #667eea;
            margin-bottom: 20px;
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 20px 0;
        }

        .result-item {
            text-align: center;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .result-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #4ECDC4;
        }

        .result-label {
            color: #666;
            margin-top: 5px;
        }

        .modal-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .modal-button {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            font-size: 1rem;
            transition: transform 0.2s ease;
        }

        .modal-button:hover {
            transform: scale(1.05);
        }

        .primary-button {
            background: #4ECDC4;
            color: white;
        }

        .secondary-button {
            background: #f0f0f0;
            color: #333;
        }

        .start-button {
            background: linear-gradient(135deg, #4ECDC4, #44A08D);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1rem;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            margin: 10px;
            transition: transform 0.2s ease;
        }

        .start-button:hover {
            transform: scale(1.05);
        }

        .back-button {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
        }

        .logout-button {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(255,255,255,0.9);
            color: #ff6b6b;
            border: none;
            padding: 10px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            z-index: 999;
        }

        /* ===================================================
           üéÆ GAMIFICATION OVERLAY STYLES
           =================================================== */
        .gamification-overlay {
            position: fixed;
            bottom: 20px;
            left: 20px;
            right: 20px;
            background: rgba(255,255,255,0.95);
            border-radius: 20px;
            padding: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            gap: 20px;
            z-index: 900;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(102, 126, 234, 0.2);
        }

        .level-indicator {
            flex: 1;
            min-width: 200px;
        }

        .level-text {
            font-weight: bold;
            color: #667eea;
            font-size: 1.1rem;
            display: block;
            margin-bottom: 5px;
        }

        .xp-bar {
            background: #f0f0f0;
            border-radius: 10px;
            height: 8px;
            margin-bottom: 5px;
            overflow: hidden;
        }

        .xp-fill {
            height: 100%;
            background: linear-gradient(90deg, #4ECDC4, #44A08D);
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        .xp-text {
            font-size: 0.9rem;
            color: #666;
        }

        .score-display {
            font-weight: bold;
            font-size: 1.2rem;
            color: #4ECDC4;
            text-align: center;
            min-width: 120px;
        }

        .avatar-companion {
            position: relative;
            text-align: center;
            min-width: 80px;
        }

        .avatar-face {
            font-size: 2.5rem;
            margin-bottom: 5px;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-5px); }
            60% { transform: translateY(-3px); }
        }

        .avatar-bubble {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: #667eea;
            color: white;
            padding: 8px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            white-space: nowrap;
            margin-bottom: 10px;
            opacity: 0;
            animation: fadeInOut 4s infinite;
        }

        @keyframes fadeInOut {
            0%, 100% { opacity: 0; }
            10%, 90% { opacity: 1; }
        }

        .avatar-bubble::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 5px solid transparent;
            border-top-color: #667eea;
        }

        .badges-earned {
            display: flex;
            align-items: center;
        }

        .badge-collection {
            display: flex;
            gap: 8px;
        }

        .earned-badge {
            font-size: 1.5rem;
            padding: 5px;
            border-radius: 50%;
            background: #f0f4ff;
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        .earned-badge:hover {
            transform: scale(1.2);
        }

                 .earned-badge.unlocked {
             opacity: 0.3;
             filter: grayscale(100%);
         }

         @keyframes levelUp {
             0% { transform: scale(1); }
             50% { transform: scale(1.05); background: linear-gradient(135deg, #4ECDC4, #44A08D); }
             100% { transform: scale(1); }
         }

         @keyframes badgeEarn {
             0% { transform: scale(1) rotate(0deg); }
             50% { transform: scale(1.3) rotate(180deg); }
             100% { transform: scale(1) rotate(360deg); }
         }

                 /* Responsive Design */
         @media (max-width: 768px) {
             .characters-container {
                 flex-direction: column;
                 align-items: center;
             }
             
             .path-grid {
                 grid-template-columns: 1fr;
             }
             
             .completion-stats {
                 flex-direction: column;
                 gap: 15px;
             }

             .gamification-overlay {
                 flex-direction: column;
                 gap: 10px;
                 padding: 12px;
                 bottom: 10px;
                 left: 10px;
                 right: 10px;
             }

             .level-indicator {
                 min-width: auto;
                 text-align: center;
             }

             .avatar-companion {
                 min-width: auto;
             }

             .avatar-bubble {
                 position: relative;
                 bottom: auto;
                 left: auto;
                 transform: none;
                 margin: 5px 0 0 0;
                 display: block;
             }

             .badge-collection {
                 justify-content: center;
             }
         }
    </style>
</head>
<body>
    <div class="ai-indicator" id="ai-indicator">
        ü§ñ KI-Demo aktiv
    </div>

    <div class="user-info" id="user-info" style="display: none;">
        üë§ <span id="current-username">Benutzer</span>
    </div>

    <!-- Gamification Overlay -->
    <div class="gamification-overlay" id="gamification-overlay" style="display: none;">
        <div class="level-indicator">
            <span class="level-text">Level <span id="player-level">5</span>: Strategist</span>
            <div class="xp-bar">
                <div class="xp-fill" id="xp-fill" style="width: 65%;"></div>
            </div>
            <span class="xp-text"><span id="current-xp">3.250</span> / 5.000 XP</span>
        </div>
        
        <div class="score-display">
            üéØ <span id="total-score">17.102</span> Punkte
        </div>

        <div class="avatar-companion" id="avatar-companion">
            <div class="avatar-face">üòä</div>
            <div class="avatar-bubble" id="avatar-bubble">
                Weiter so! Du machst gro√üe Fortschritte! üí™
            </div>
        </div>

        <div class="badges-earned" id="badges-earned">
                         <div class="badge-collection">
                 <span class="earned-badge" title="Datenschutz-Profi">üõ°Ô∏è</span>
                 <span class="earned-badge" title="Hygiene-Held:in">üßº</span>
                 <span class="earned-badge" title="AI Certified">ü§ñ</span>
                 <span class="earned-badge" title="Remote Leader">üß≠</span>
                 <span class="earned-badge unlocked" title="ZeroTrust Hero">üîê</span>
                 <span class="earned-badge unlocked" title="Safety Champion">üß∞</span>
                 <span class="earned-badge unlocked" title="Digitale:r Verwaltungsprofi">üèõÔ∏è</span>
                 <span class="earned-badge unlocked" title="EU AI Act Qualified">‚öñÔ∏è</span>
                 <span class="earned-badge unlocked" title="Path Creator">üèóÔ∏è</span>
                 <span class="earned-badge unlocked" title="Resilienz Coach">üí™</span>
                 <span class="earned-badge unlocked" title="AI-Security Expert">ü§ñ</span>
                 <span class="earned-badge unlocked" title="Nuru Tech Specialist">üë®üèø‚Äçüíª</span>
                 <span class="earned-badge unlocked" title="Gaming Guru">üéÆ</span>
                 <span class="earned-badge unlocked" title="Azubi Champion">üéì</span>
                 <span class="earned-badge unlocked" title="Gen-Z Leader">‚ö°</span>
                 <span class="earned-badge unlocked" title="Flawless Victory">üëë</span>
                 <span class="earned-badge unlocked" title="Diversity Champion">üåà</span>
                 <span class="earned-badge unlocked" title="Inclusion Expert">ü§ù</span>
                 <span class="earned-badge unlocked" title="Cultural Bridge Builder">üåç</span>
                 <span class="earned-badge unlocked" title="Empathy Leader">üíù</span>
                 <span class="earned-badge unlocked" title="Peace Builder">üïäÔ∏è</span>
                 <span class="earned-badge unlocked" title="Analytics Expert">üìä</span>
                 <span class="earned-badge unlocked" title="Process Optimizer">‚öôÔ∏è</span>
                 <span class="earned-badge unlocked" title="Business Intelligence Expert">üìà</span>
                 <span class="earned-badge unlocked" title="Logic Master">üß†</span>
                 <span class="earned-badge unlocked" title="Perfect Analyst">üéØ</span>
                 <span class="earned-badge unlocked" title="Inspiration Master">üåü</span>
                 <span class="earned-badge unlocked" title="Authentic Leader">üëë</span>
                 <span class="earned-badge unlocked" title="Growth Expert">ü¶ã</span>
                 <span class="earned-badge unlocked" title="Transformation Leader">üí´</span>
                 <span class="earned-badge unlocked" title="Inspiration Guru">‚ú®</span>
                 <span class="earned-badge unlocked" title="Sports Champion">üèÜ</span>
                 <span class="earned-badge unlocked" title="Motivation Expert">üî•</span>
                 <span class="earned-badge unlocked" title="Peak Performer">‚ö°</span>
                 <span class="earned-badge unlocked" title="Champion Mindset">ü•á</span>
                 <span class="earned-badge unlocked" title="Healthcare Hero">üè•</span>
                 <span class="earned-badge unlocked" title="Care Excellence">üíñ</span>
                 <span class="earned-badge unlocked" title="Healthcare Genius">ü§ó</span>
                 <span class="earned-badge unlocked" title="Ethics Champion">‚öñÔ∏è</span>
                 <span class="earned-badge unlocked" title="Trust Master">üíé</span>
                 <span class="earned-badge unlocked" title="Ethics Legend">üõ°Ô∏è</span>
             </div>
        </div>
    </div>

    <button class="logout-button" id="logout-button" style="display: none;" onclick="logout()">
        üö™ Logout
    </button>

    <div class="container">
        <div class="header">
            <h1>üöÄ JunoSixteen</h1>
            <p>Gamifizierte KI-Lernplattform mit personalisierten Lernpfaden</p>
        </div>

        <div class="main-area">
            <!-- ===================================================
                 üîê LOGIN SCREEN
                 =================================================== -->
            <div class="login-screen" id="login-screen">
                <div class="login-title">Willkommen bei JunoSixteen!</div>
                
                <div class="speech-bubble">
                    <p style="font-size: 1.1rem; line-height: 1.6;">
                        Hallo! Wir sind Alex & Ulli, eure KI-Lernbegleiter. Wir helfen euch dabei, 
                        eure Lernziele zu erreichen und das Beste aus eurer Lernreise herauszuholen. 
                        Bereit f√ºr personalisierte Lernpfade?
                    </p>
                </div>

                <div class="characters-container">
                    <div class="character" onclick="showCharacterInfo('alex')">
                        <div class="character-avatar">ü§ñ</div>
                        <div class="character-name">Alex</div>
                        <div class="character-role">KI-Tutor & Lernbegleiter</div>
                    </div>
                    
                    <div class="character" onclick="showCharacterInfo('ulli')">
                        <div class="character-avatar">üß†</div>
                        <div class="character-name">Ulli</div>
                        <div class="character-role">UL-Spezialist & Analyst</div>
                    </div>
                </div>

                <div class="login-form">
                    <div class="form-group">
                        <label class="form-label" for="username">Benutzername:</label>
                        <input type="text" id="username" class="form-input" placeholder="Ihr Benutzername" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="user-role">Rolle:</label>
                        <select id="user-role" class="form-input">
                            <option value="student">Student/Lernender</option>
                            <option value="professional">Berufst√§tiger</option>
                            <option value="trainer">Trainer/Dozent</option>
                            <option value="admin">Administrator</option>
                        </select>
                    </div>
                    
                    <button class="login-button" onclick="authenticateUser()">
                        üöÄ Lernreise starten
                    </button>
                </div>

                <div style="text-align: center; margin-top: 20px; font-size: 0.9rem; color: #666;">
                    Demo-Modus: Alle Eingaben sind optional f√ºr die Pr√§sentation
                </div>
            </div>

            <!-- ===================================================
                 üéØ PATH SELECTION MENU
                 =================================================== -->
            <div class="path-menu" id="path-menu">
                <div class="welcome-banner">
                    <div class="welcome-title">Willkommen zur√ºck, <span id="welcome-username">Lernender</span>!</div>
                    <div class="welcome-subtitle">W√§hlen Sie Ihren Lernpfad und setzen Sie Ihre Reise fort</div>
                </div>

                <div class="path-grid">
                    <!-- Berufsspezifische Pfade -->
                    <div class="path-card" onclick="selectPath('berufsspezifisch')">
                        <div class="path-icon">üëî</div>
                        <div class="path-badge">Empfohlen</div>
                        <div class="path-title">Berufsspezifisch</div>
                        <div class="path-description">
                            5 spezialisierte Berufspfade mit Level 1-10 Struktur
                        </div>
                        <div class="path-meta">
                            <span class="meta-item">‚è±Ô∏è 45-90 Min</span>
                            <span class="meta-item">üìä Mittel-Schwer</span>
                            <span class="meta-item">üéØ Zertifikat</span>
                        </div>
                        <ul class="path-features">
                            <li>ü©∫ Pflege & Gesundheitswesen</li>
                            <li>‚öñÔ∏è Kanzleien & Agenturen</li>
                            <li>üë©‚Äçüíª Tech-Startups</li>
                            <li>üè≠ Produktion & Logistik</li>
                            <li>üèõÔ∏è √ñffentliche Verwaltung</li>
                        </ul>
                        <div class="path-rewards">
                            <span class="xp-badge">+850 XP</span>
                            <span class="badge-reward">üèÜ Berufs-Profi Badge</span>
                        </div>
                        <div class="path-progress">
                            <div class="path-progress-fill" style="width: 35%;"></div>
                        </div>
                        <div class="path-stats">
                            <span>Level 3/10</span>
                            <span>2.847 XP</span>
                        </div>
                    </div>

                    <!-- Themenspezifische Pfade -->
                    <div class="path-card" onclick="selectPath('themenspezifisch')">
                        <div class="path-icon">üìö</div>
                        <div class="path-title">Themenspezifisch</div>
                        <div class="path-description">
                            Fach√ºbergreifende Module zu aktuellen Compliance-Themen
                        </div>
                        <div class="path-meta">
                            <span class="meta-item">‚è±Ô∏è 30-60 Min</span>
                            <span class="meta-item">üìä Leicht-Mittel</span>
                            <span class="meta-item">üéØ Fachbadge</span>
                        </div>
                        <ul class="path-features">
                            <li>üîê DSGVO & Datenschutz</li>
                            <li>üåç Nachhaltigkeit & ESG</li>
                            <li>üõ°Ô∏è Cybersecurity Basics</li>
                            <li>üìä Business Ethics</li>
                        </ul>
                        <div class="path-rewards">
                            <span class="xp-badge">+650 XP</span>
                            <span class="badge-reward">üéì Compliance Expert</span>
                        </div>
                        <div class="path-progress">
                            <div class="path-progress-fill" style="width: 60%;"></div>
                        </div>
                        <div class="path-stats">
                            <span>Level 6/10</span>
                            <span>4.125 XP</span>
                        </div>
                    </div>

                    <!-- Mini-Games -->
                    <div class="path-card new" onclick="selectPath('minigames')">
                        <div class="path-icon">üéÆ</div>
                        <div class="path-title">Mini-Games</div>
                        <div class="path-description">
                            Level-Belohnungen mit 4 verschiedenen Spieltypen
                        </div>
                        <div class="path-meta">
                            <span class="meta-item">‚è±Ô∏è 2-5 Min</span>
                            <span class="meta-item">üìä Spa√ü</span>
                            <span class="meta-item">üéØ Game Master</span>
                        </div>
                        <ul class="path-features">
                            <li>üß† Memory-Karten (Fachbegriffe)</li>
                            <li>üî§ W√∂rter-Puzzle</li>
                            <li>‚ö° Reaktionstest</li>
                            <li>üß© Schiebe-Puzzle</li>
                        </ul>
                        <div class="path-rewards">
                            <span class="xp-badge">+50-300 XP</span>
                            <span class="badge-reward">üéÆ Gaming Profi</span>
                        </div>
                        <div class="path-progress">
                            <div class="path-progress-fill" style="width: 80%;"></div>
                        </div>
                        <div class="path-stats">
                            <span>Level 8/10</span>
                            <span>5.680 XP</span>
                        </div>
                    </div>

                    <!-- Wissenssnacks (Imprint) -->
                    <div class="path-card premium" onclick="selectPath('wissenssnacks')">
                        <div class="path-icon">üß†</div>
                        <div class="path-badge">Premium</div>
                        <div class="path-title">Wissenssnacks (Imprint)</div>
                        <div class="path-description">
                            Microlearning: Kurze Lernh√§ppchen mit Storytelling
                        </div>
                        <div class="path-meta">
                            <span class="meta-item">‚è±Ô∏è 5-10 Min</span>
                            <span class="meta-item">üìä Leicht</span>
                            <span class="meta-item">üéØ Imprint Master</span>
                        </div>
                        <ul class="path-features">
                            <li>üìñ Storytelling-Ansatz</li>
                            <li>ü§î Reflexions-Tools</li>
                            <li>üì± Mobile-optimiert</li>
                            <li>üß© Interaktive Elemente</li>
                        </ul>
                        <div class="path-rewards">
                            <span class="xp-badge">+25-50 XP</span>
                            <span class="badge-reward">üß† Wissensninja</span>
                        </div>
                        <div class="path-progress">
                            <div class="path-progress-fill" style="width: 25%;"></div>
                        </div>
                        <div class="path-stats">
                            <span>Level 2/10</span>
                            <span>1.250 XP</span>
                        </div>
                    </div>

                    <!-- Bonuspfade / Soft Skills -->
                    <div class="path-card" onclick="selectPath('softskills')">
                        <div class="path-icon">üí°</div>
                        <div class="path-title">Bonuspfade / Soft Skills</div>
                        <div class="path-description">
                            Pers√∂nliche & soziale Kompetenzen f√ºr den Arbeitsalltag
                        </div>
                        <div class="path-meta">
                            <span class="meta-item">‚è±Ô∏è 25-45 Min</span>
                            <span class="meta-item">üìä Mittel</span>
                            <span class="meta-item">üéØ Soft Skills Pro</span>
                        </div>
                        <ul class="path-features">
                            <li>üó£Ô∏è Kommunikation & Teamwork</li>
                            <li>üëë Leadership & Management</li>
                            <li>üß© Probleml√∂sung & Kreativit√§t</li>
                            <li>‚è∞ Zeitmanagement & Effizienz</li>
                        </ul>
                        <div class="path-rewards">
                            <span class="xp-badge">+400 XP</span>
                            <span class="badge-reward">üß≠ Remote Leader</span>
                        </div>
                        <div class="path-progress">
                            <div class="path-progress-fill" style="width: 45%;"></div>
                        </div>
                        <div class="path-stats">
                            <span>Level 4/10</span>
                            <span>3.200 XP</span>
                        </div>
                    </div>

                    <!-- Mein Fortschritt / Zertifikate -->
                    <div class="path-card" onclick="selectPath('fortschritt')">
                        <div class="path-icon">üèÜ</div>
                        <div class="path-title">Mein Fortschritt / Zertifikate</div>
                        <div class="path-description">
                            Ihre Lernerfolge, Statistiken und Achievements
                        </div>
                        <div class="path-meta">
                            <span class="meta-item">‚è±Ô∏è Live</span>
                            <span class="meta-item">üìä Dashboard</span>
                            <span class="meta-item">üéØ Tracking</span>
                        </div>
                        <ul class="path-features">
                            <li>üìà Detaillierte Statistiken</li>
                            <li>üèÖ Badge-Sammlung</li>
                            <li>üìä Highscore & Rankings</li>
                            <li>üéØ Zielsetzung & Meilensteine</li>
                        </ul>
                        <div class="path-rewards">
                            <span class="xp-badge">Gesamt: 17.102 XP</span>
                            <span class="badge-reward">üèÜ Achievement Hunter</span>
                        </div>
                        <div class="path-progress">
                            <div class="path-progress-fill" style="width: 90%;"></div>
                        </div>
                        <div class="path-stats">
                            <span>Level 9/10</span>
                            <span>5 Badges erhalten</span>
                        </div>
                    </div>

                    <!-- Recht & KI-Regulierung - NEU! -->
                    <div class="path-card new" onclick="selectPath('legal-ai')">
                        <div class="path-icon">‚öñÔ∏è</div>
                        <div class="path-badge">Legal</div>
                        <div class="path-title">Recht & KI-Regulierung</div>
                        <div class="path-description">
                            EU AI Act & DSGVO Compliance f√ºr alle Unternehmensbereiche
                        </div>
                        <div class="path-meta">
                            <span class="meta-item">‚è±Ô∏è 60-120 Min</span>
                            <span class="meta-item">üìä Schwer</span>
                            <span class="meta-item">üéØ Legal Expert</span>
                        </div>
                        <ul class="path-features">
                            <li>üß† EU AI Act Essentials</li>
                            <li>üõ°Ô∏è DSGVO Masterclass</li>
                            <li>üë©‚Äçüè´ Avatar-Guides (Prof. Regula & Dr. Datschu)</li>
                            <li>üìú Compliance-Zertifikate</li>
                        </ul>
                        <div class="path-rewards">
                            <span class="xp-badge">+1.500 XP</span>
                            <span class="badge-reward">‚öñÔ∏è Legal Compliance Expert</span>
                        </div>
                        <div class="path-progress">
                            <div class="path-progress-fill" style="width: 15%;"></div>
                        </div>
                        <div class="path-stats">
                            <span>Level 1/10</span>
                            <span>230 XP</span>
                        </div>
                    </div>

                    <!-- Mein eigener Pfad - TEXT-TO-PATH ENGINE -->
                    <div class="path-card premium new" onclick="selectPath('custom-path')">
                        <div class="path-icon">üîß</div>
                        <div class="path-badge">KI-Engine</div>
                        <div class="path-title">Mein eigener Pfad</div>
                        <div class="path-description">
                            Erstelle deinen eigenen Lernpfad mit wenigen Klicks - KI √ºbernimmt den Rest
                        </div>
                        <div class="path-meta">
                            <span class="meta-item">‚è±Ô∏è 5-10 Min Erstellung</span>
                            <span class="meta-item">üìä Individuell</span>
                            <span class="meta-item">üéØ Custom Badge</span>
                        </div>
                        <ul class="path-features">
                            <li>üìù Text-Eingabe oder PDF-Upload</li>
                            <li>ü§ñ KI-generierte 10-Level-Struktur</li>
                            <li>üéÆ Vollst√§ndige Gamification</li>
                            <li>üì§ Teilbar & exportierbar</li>
                        </ul>
                        <div class="path-rewards">
                            <span class="xp-badge">Unbegrenzt XP</span>
                            <span class="badge-reward">üèóÔ∏è Path Creator</span>
                        </div>
                        <div class="path-progress">
                            <div class="path-progress-fill" style="width: 5%;"></div>
                        </div>
                        <div class="path-stats">
                            <span>Neu erstellen</span>
                            <span>2 eigene Pfade</span>
                        </div>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 30px;">
                    <button class="start-button" onclick="startQuizDemo()">
                        üéØ Demo: Quiz mit Minigame-Belohnung
                    </button>
                </div>
            </div>

            <!-- ===================================================
                 üéØ EXISTING QUIZ & MINIGAME SCREENS (unchanged)
                 =================================================== -->
            <!-- Quiz Screen -->
            <div class="quiz-screen" id="quiz-screen">
                <div class="quiz-header">
                    <button class="back-button" onclick="backToPathMenu()">‚Üê Zur√ºck zum Hauptmen√º</button>
                    <div class="quiz-stats">
                        <div>üéØ Score: <span id="quiz-score">0</span></div>
                        <div>üìä Frage: <span id="question-number">1</span>/5</div>
                        <div>‚è±Ô∏è Zeit: <span id="quiz-timer">30</span>s</div>
                    </div>
                </div>

                <div class="question-card">
                    <div class="question-text" id="question-text">
                        Frage wird geladen...
                    </div>
                    <div class="answers-grid" id="answers-grid">
                        <!-- Antworten werden hier eingef√ºgt -->
                    </div>
                </div>

                <div style="text-align: center; margin-top: 20px;">
                    <button class="start-button" id="next-question-btn" onclick="nextQuestion()" style="display: none;">
                        Weiter ‚Üí
                    </button>
                </div>
            </div>

            <!-- Minigame Selection Screen -->
            <div class="minigame-selection" id="minigame-selection">
                <div class="completion-banner">
                    <div class="completion-title">üéâ Level abgeschlossen!</div>
                    <p>Fantastisch! Sie haben das Quiz erfolgreich absolviert.</p>
                    <div class="completion-stats">
                        <div class="stat-item">
                            <div class="stat-value" id="final-score">0</div>
                            <div>Punkte</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="final-accuracy">0%</div>
                            <div>Genauigkeit</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">Typ_A</div>
                            <div>Lerntyp</div>
                        </div>
                    </div>
                </div>

                <div style="text-align: center; margin-bottom: 30px;">
                    <h2 style="color: #667eea;">üéÆ W√§hlen Sie Ihr Belohnungs-Minigame:</h2>
                    <p style="color: #666;">Als Belohnung f√ºr Ihren Level-Abschluss k√∂nnen Sie ein Minigame spielen!</p>
                </div>

                <div class="minigame-grid">
                    <div class="minigame-card" onclick="startMinigame('memory')">
                        <div class="minigame-icon">üß†</div>
                        <div class="minigame-title">Memory Karten</div>
                        <div class="minigame-description">Finden Sie alle Paare! Trainiert Ged√§chtnis mit fachbezogenen Begriffen.</div>
                        <div class="minigame-reward">~240 Bonus-Punkte</div>
                    </div>

                    <div class="minigame-card" onclick="startMinigame('word')">
                        <div class="minigame-icon">üî§</div>
                        <div class="minigame-title">W√∂rter-Puzzle</div>
                        <div class="minigame-description">Bringen Sie die Buchstaben in die richtige Reihenfolge!</div>
                        <div class="minigame-reward">~220 Bonus-Punkte</div>
                    </div>

                    <div class="minigame-card" onclick="startMinigame('reaction')">
                        <div class="minigame-icon">‚ö°</div>
                        <div class="minigame-title">Reaktionstest</div>
                        <div class="minigame-description">Wie schnell erkennen Sie richtige vs. falsche Aussagen?</div>
                        <div class="minigame-reward">~260 Bonus-Punkte</div>
                    </div>

                    <div class="minigame-card" onclick="startMinigame('puzzle')">
                        <div class="minigame-icon">üß©</div>
                        <div class="minigame-title">Schiebe-Puzzle</div>
                        <div class="minigame-description">Bringen Sie das Bild in die richtige Reihenfolge!</div>
                        <div class="minigame-reward">~230 Bonus-Punkte</div>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 30px;">
                    <button class="start-button" onclick="backToPathMenu()">‚Üê Zur√ºck zum Hauptmen√º</button>
                    <button class="start-button" onclick="startQuizDemo()">üîÑ Quiz wiederholen</button>
                </div>
            </div>

            <!-- Active Minigame Screen -->
            <div class="minigame-active" id="minigame-active">
                <div class="minigame-header">
                    <button class="back-button" onclick="backToMinigameSelection()">‚Üê Zur√ºck</button>
                    <div>
                        <span class="minigame-timer">‚è±Ô∏è <span id="minigame-timer">60</span>s</span>
                        <span class="minigame-score" style="margin-left: 20px;">üéØ <span id="minigame-score">0</span></span>
                    </div>
                </div>

                <div class="instruction-text" id="minigame-instruction">
                    Spielanleitung wird geladen...
                </div>

                <div id="minigame-content">
                    <!-- Minigame content wird hier eingef√ºgt -->
                </div>
            </div>
        </div>
    </div>

    <!-- Results Modal -->
    <div class="results-modal" id="results-modal">
        <div class="modal-content">
            <div class="modal-title">üéâ Minigame abgeschlossen!</div>
            <div class="results-grid">
                <div class="result-item">
                    <div class="result-value" id="modal-score">0</div>
                    <div class="result-label">Punkte</div>
                </div>
                <div class="result-item">
                    <div class="result-value" id="modal-time">0s</div>
                    <div class="result-label">Zeit</div>
                </div>
                <div class="result-item">
                    <div class="result-value" id="modal-accuracy">0%</div>
                    <div class="result-label">Genauigkeit</div>
                </div>
                <div class="result-item">
                    <div class="result-value" id="modal-ranking">ü•â</div>
                    <div class="result-label">Ranking</div>
                </div>
            </div>
            <div class="modal-buttons">
                <button class="modal-button secondary-button" onclick="backToMinigameSelection()">Anderes Spiel</button>
                <button class="modal-button primary-button" onclick="backToPathMenu()">Zur√ºck zum Hauptmen√º</button>
            </div>
        </div>
    </div>

    <script>
        // ===================================================
        // üéÆ GLOBAL STATE
        // ===================================================
        
        let currentScreen = 'login';
        let currentUser = null;
        let currentQuestionIndex = 0;
        let quizScore = 0;
        let selectedAnswer = null;
        let quizTimer = null;
        let timeLeft = 30;
        let correctAnswers = 0;
        let totalQuestions = 5;

        // Minigame State
        let currentMinigame = null;
        let minigameTimer = null;
        let minigameTimeLeft = 0;
        let minigameScore = 0;
        let minigameStartTime = 0;

        // Memory Game State
        let memoryCards = [];
        let flippedCards = [];
        let matchedPairs = 0;

        // Demo Questions (mixed general + job-specific)
        const demoQuestions = [
            {
                question: "Was ist das Hauptziel von UL (Unsupervised Learning) in JunoSixteen?",
                answers: [
                    "Benutzer ohne Labels zu klassifizieren",
                    "Fragen automatisch zu bewerten", 
                    "Lernzeit zu verk√ºrzen",
                    "Zertifikate zu erstellen"
                ],
                correct: 0,
                explanation: "UL klassifiziert Benutzer automatisch in Lerntypen ohne vorgegebene Labels.",
                category: "system"
            },
            {
                question: "ü©∫ BERUFSSPEZIFISCH: Wie lange m√ºssen H√§nde f√ºr eine wirksame Desinfektion eingerieben werden?",
                answers: [
                    "10-15 Sekunden",
                    "20-30 Sekunden", 
                    "45-60 Sekunden",
                    "90 Sekunden"
                ],
                correct: 1,
                explanation: "Eine wirksame H√§ndedesinfektion erfordert 20-30 Sekunden Einreibezeit nach WHO-Standard.",
                category: "healthcare"
            },
            {
                question: "üîê BERUFSSPEZIFISCH: Was ist ein sicheres Passwort f√ºr Entwickler?",
                answers: [
                    "password123",
                    "MySecret!", 
                    "P@ssw0rd2024!#Secure",
                    "admin"
                ],
                correct: 2,
                explanation: "Sichere Passw√∂rter ben√∂tigen mindestens 12 Zeichen mit Gro√ü-/Kleinbuchstaben, Zahlen und Sonderzeichen.",
                category: "tech"
            },
            {
                question: "‚öñÔ∏è LEGAL: Nach welcher Zeit muss eine Datenpanne gemeldet werden?",
                answers: [
                    "Sofort",
                    "72 Stunden",
                    "1 Woche", 
                    "1 Monat"
                ],
                correct: 1,
                explanation: "Nach DSGVO m√ºssen Datenpannen binnen 72 Stunden an die Aufsichtsbeh√∂rde gemeldet werden.",
                category: "legal"
            },
            {
                question: "üéÆ SYSTEM: Welche Belohnung gibt es nach erfolgreichem Level-Abschluss?",
                answers: [
                    "Nur Punkte",
                    "Badges",
                    "Minigames als Belohnung",
                    "Zertifikate"
                ],
                correct: 2,
                explanation: "Nach Level-Abschluss werden Minigames als Belohnung angeboten!",
                category: "system"
            }
        ];

        // ===================================================
        // üîê AUTHENTICATION LOGIC
        // ===================================================

        function showCharacterInfo(character) {
            const messages = {
                alex: "Hi! Ich bin Alex, euer pers√∂nlicher KI-Tutor. Ich helfe bei adaptiven Lernpfaden und erkl√§re komplexe Themen verst√§ndlich!",
                ulli: "Hallo! Ich bin Ulli und spezialisiert auf Unsupervised Learning. Ich analysiere euer Lernverhalten und optimiere die Inhalte!"
            };
            
            alert(`ü§ñ ${character.toUpperCase()}: ${messages[character]}`);
        }

        function authenticateUser() {
            const username = document.getElementById('username').value.trim();
            const role = document.getElementById('user-role').value;
            
            // Demo: Akzeptiere jeden Namen oder verwende Default
            const finalUsername = username || 'Demo-Benutzer';
            
            currentUser = {
                username: finalUsername,
                role: role,
                loginTime: new Date()
            };
            
            // Update UI
            document.getElementById('current-username').textContent = finalUsername;
            document.getElementById('welcome-username').textContent = finalUsername;
            
                         // Check if avatar already selected
             const savedAvatar = localStorage.getItem('selectedAvatar');
             if (savedAvatar && savedAvatar !== 'alex-ulli') {
                 // User has already selected an avatar, activate it
                 activateChosenAvatar(savedAvatar, getAvatarGreeting(savedAvatar));
                 showPathSelection();
             } else {
                 // Show avatar selection for first-time users
                 showAvatarSelection();
             }
             
             document.getElementById('user-info').style.display = 'block';
             document.getElementById('logout-button').style.display = 'block';
             document.getElementById('gamification-overlay').style.display = 'flex';
        }

                 function logout() {
             currentUser = null;
             resetAll();
             document.getElementById('username').value = '';
             document.getElementById('user-info').style.display = 'none';
             document.getElementById('logout-button').style.display = 'none';
             document.getElementById('gamification-overlay').style.display = 'none';
             showScreen('login-screen');
         }

         // ===================================================
         // üé≠ AVATAR SELECTION SYSTEM  
         // ===================================================
         
         function showAvatarSelection() {
             const avatarSelectionHTML = `
                 <div class="avatar-selection-screen">
                     <div class="welcome-banner">
                         <div class="welcome-title">üé≠ W√§hle deinen Lern-Begleiter</div>
                         <div class="welcome-subtitle">Dein Avatar begleitet dich durch alle Lernpfade</div>
                     </div>

                     <div class="avatar-grid">
                         <div class="avatar-card featured" onclick="selectAvatar('amara')">
                             <div class="avatar-preview">üë©üèø‚Äçüéì</div>
                             <div class="avatar-name">Amara</div>
                             <div class="avatar-trait">Inspiration & Growth Expert</div>
                             <div class="avatar-quote">"Du w√§chst √ºber dich hinaus! üåü"</div>
                             <div class="featured-badge">üå± Inspiration</div>
                         </div>

                         <div class="avatar-card featured" onclick="selectAvatar('aya')">
                             <div class="avatar-preview">üë©üèª‚Äçüíª</div>
                             <div class="avatar-name">Aya</div>
                             <div class="avatar-trait">Analytics & Logic Expert</div>
                             <div class="avatar-quote">"Lass uns strukturiert lernen! üìä"</div>
                             <div class="featured-badge">üìà Analytics</div>
                         </div>

                         <div class="avatar-card featured" onclick="selectAvatar('farida')">
                             <div class="avatar-preview">üë©üèΩ‚Äçüéì</div>
                             <div class="avatar-name">Farida</div>
                             <div class="avatar-trait">Diversity & Empathy</div>
                             <div class="avatar-quote">"Gemeinsam bauen wir Br√ºcken! üåç"</div>
                             <div class="featured-badge">üåà Inclusion</div>
                         </div>

                         <div class="avatar-card featured" onclick="selectAvatar('jo')">
                             <div class="avatar-preview">üë®üèº‚Äçüéì</div>
                             <div class="avatar-name">Jo</div>
                             <div class="avatar-trait">Gaming & Gen-Z Energie</div>
                             <div class="avatar-quote">"Yo! Let's level up together! üéÆ"</div>
                             <div class="featured-badge">üéÆ Gaming Guru</div>
                         </div>

                         <div class="avatar-card featured" onclick="selectAvatar('leo')">
                             <div class="avatar-preview">üèÉ‚Äç‚ôÇÔ∏è</div>
                             <div class="avatar-name">Leo</div>
                             <div class="avatar-trait">Sports & Motivation Expert</div>
                             <div class="avatar-quote">"Champions never quit! üèÜ"</div>
                             <div class="featured-badge">‚ö° Sports</div>
                         </div>

                         <div class="avatar-card featured" onclick="selectAvatar('malik')">
                             <div class="avatar-preview">ü§ù</div>
                             <div class="avatar-name">Malik</div>
                             <div class="avatar-trait">Trust & Ethics Specialist</div>
                             <div class="avatar-quote">"Trust is earned! ‚öñÔ∏è"</div>
                             <div class="featured-badge">üõ°Ô∏è Ethics</div>
                         </div>

                         <div class="avatar-card featured" onclick="selectAvatar('mina')">
                             <div class="avatar-preview">üë©‚Äç‚öïÔ∏è</div>
                             <div class="avatar-name">Mina</div>
                             <div class="avatar-trait">Healthcare & Care Expert</div>
                             <div class="avatar-quote">"Mit F√ºrsorge zum Erfolg! üíù"</div>
                             <div class="featured-badge">üè• Healthcare</div>
                         </div>

                         <div class="avatar-card" onclick="selectAvatar('nuru')">
                             <div class="avatar-preview">üë®üèø‚Äçüíª</div>
                             <div class="avatar-name">Nuru</div>
                             <div class="avatar-trait">Tech-orientiert & KI-nah</div>
                             <div class="avatar-quote">"Antwort analysiert ‚Äì logisch korrekt!"</div>
                         </div>

                         <div class="avatar-card featured" onclick="selectAvatar('tariq')">
                             <div class="avatar-preview">üë®üèΩ‚Äçüíº</div>
                             <div class="avatar-name">Tariq</div>
                             <div class="avatar-trait">Strategisch & Weitblickend</div>
                             <div class="avatar-quote">"Clever gel√∂st ‚Äì du denkst mehrere Schritte voraus!"</div>
                             <div class="featured-badge">üß† Strategic</div>
                         </div>

                         <div class="avatar-card featured" onclick="selectAvatar('zara')">
                             <div class="avatar-preview">üë©üèø‚Äçüíº</div>
                             <div class="avatar-name">Zara</div>
                             <div class="avatar-trait">Business-orientiert & F√ºhrungsstark</div>
                             <div class="avatar-quote">"Ziel erreicht ‚Äì professionell umgesetzt!"</div>
                             <div class="featured-badge">üíº Leadership</div>
                         </div>
                     </div>

                     <div class="avatar-actions">
                         <button class="start-button" onclick="useRandomAvatar()">
                             üé≤ Zuf√§lliger Avatar
                         </button>
                         <button class="start-button secondary" onclick="skipAvatarSelection()">
                             ‚è≠Ô∏è √úberspringen (Alex & Ulli)
                         </button>
                     </div>
                 </div>
             `;

             document.querySelector('.main-area').innerHTML = avatarSelectionHTML;
         }

         function selectAvatar(avatarName) {
             // Speichere Avatar-Wahl
             localStorage.setItem('selectedAvatar', avatarName);
             
             // Avatar-spezifische Begr√º√üung
             const avatarGreetings = {
                 amara: "Namaste! Amara hier - lass uns gemeinsam wachsen! üåüüå±",
                 aya: "Hi! Aya hier. Datenbasiert zum Erfolg! üìäüéØ",
                 farida: "Salam! Farida hier ‚Äì gemeinsam bauen wir Br√ºcken! üåçü§ù",
                 jo: "Yo! Jo hier ‚Äì ready to level up and slay! üéÆ‚ö°",
                 leo: "Yo! Leo hier ‚Äì Champions never quit! üèÜ‚ö°",
                 malik: "Peace! Malik hier ‚Äì Trust is earned! ü§ù‚öñÔ∏è",
                 mina: "Hi! Mina hier ‚Äì Mit F√ºrsorge zum Erfolg! üë©‚Äç‚öïÔ∏èüíù",
                 nuru: "System online! Nuru bereit f√ºr Datenanalyse! ü§ñ",
                 tariq: "Salam! Tariq hier ‚Äì lass uns strategisch vorgehen! üß†",
                 zara: "Greetings! Zara ready for business excellence! üíº"
             };

             // Aktiviere gew√§hlten Avatar
             activateChosenAvatar(avatarName, avatarGreetings[avatarName]);
             
             // Weiter zum Hauptmen√º nach kurzer Begr√º√üung
             setTimeout(() => {
                 showPathSelection();
             }, 2500);
         }

         function activateChosenAvatar(avatarName, greeting) {
             const avatarFace = document.getElementById('avatar-companion').querySelector('.avatar-face');
             const avatarBubble = document.getElementById('avatar-bubble');
             
             const avatarEmojis = {
                 amara: 'üë©üèø‚Äçüíº', aya: 'üë©üèª‚Äçüíª', farida: 'üë©üèΩ‚Äçüéì', jo: 'üë®üèº‚Äçüéì',
                 leo: 'üë®üèΩ‚Äçüí™', malik: 'üë®üèø‚Äçüíº', mina: 'üë©üèª‚Äçüî¨', nuru: 'üë®üèø‚Äçüíª',
                 tariq: 'üë®üèΩ‚Äçüíº', zara: 'üë©üèø‚Äçüíº'
             };
             
             avatarFace.textContent = avatarEmojis[avatarName];
             avatarBubble.textContent = greeting;
             
             // Speichere f√ºr sp√§tere Verwendung
             window.currentAvatar = avatarName;
         }

         function useRandomAvatar() {
             const avatars = ['amara', 'aya', 'farida', 'jo', 'leo', 'malik', 'mina', 'nuru', 'tariq', 'zara'];
             const randomAvatar = avatars[Math.floor(Math.random() * avatars.length)];
             selectAvatar(randomAvatar);
         }

         function skipAvatarSelection() {
             // Standard Alex & Ulli beibehalten
             window.currentAvatar = 'alex-ulli';
             showPathSelection();
         }

         function getAvatarGreeting(avatarName) {
             const avatarGreetings = {
                 amara: "Namaste! Amara hier - lass uns gemeinsam wachsen! üåüüå±",
                 aya: "Hi! Aya hier. Datenbasiert zum Erfolg! üìäüéØ",
                 farida: "Salam! Farida hier ‚Äì gemeinsam bauen wir Br√ºcken! üåçü§ù",
                 jo: "Yo! Jo hier ‚Äì ready to level up and slay! üéÆ‚ö°",
                 leo: "Yo! Leo hier ‚Äì Champions never quit! üèÜ‚ö°",
                 malik: "Peace! Malik hier ‚Äì Trust is earned! ü§ù‚öñÔ∏è",
                 mina: "Hi! Mina hier ‚Äì Mit F√ºrsorge zum Erfolg! üë©‚Äç‚öïÔ∏èüíù",
                 nuru: "System online! Nuru bereit f√ºr Datenanalyse! ü§ñ",
                 tariq: "Salam! Tariq hier ‚Äì lass uns strategisch vorgehen! üß†",
                 zara: "Greetings! Zara ready for business excellence! üíº"
             };
             return avatarGreetings[avatarName] || "Willkommen zur√ºck! üòä";
         }

         function showPathSelection() {
             showScreen('path-menu');
             // Start avatar animations if not already running
             if (!window.avatarAnimationRunning) {
                 startAvatarAnimation();
             }
         }

         // ===================================================
         // üéÆ GAMIFICATION FUNCTIONS
         // ===================================================

         function startAvatarAnimation() {
             if (window.avatarAnimationRunning) return;
             window.avatarAnimationRunning = true;

             // Verwende gew√§hlten Avatar oder Standard
             const currentAvatar = window.currentAvatar || 'alex-ulli';
             
             let avatarMessages, avatarFaces;
             
             if (currentAvatar === 'alex-ulli') {
                 avatarMessages = [
                     "Willkommen zur√ºck! üòä",
                     "Bereit f√ºr neue Challenges? üí™",
                     "Level 6 ist fast erreicht! üéØ",
                     "Deine Badges sehen gro√üartig aus! üèÜ",
                     "Weiter so mit dem Lernen! üìö",
                     "Du bist auf dem richtigen Weg! ‚≠ê"
                 ];
                 avatarFaces = ['üòä', 'üòé', 'ü§î', 'üí™', 'üéâ', 'üåü'];
             } else {
                 // Avatar-spezifische Nachrichten
                 const avatarSpecificData = {
                     tariq: {
                         messages: ["Lass uns strategisch vorgehen! üß†", "Weitblick zahlt sich aus!", "Clever analysiert!", "Strategische Planung aktiv!"],
                         faces: ['üë®üèΩ‚Äçüíº', 'üß†', 'üéØ', 'üìä']
                     },
                     zara: {
                         messages: ["Business excellence activated! üíº", "Ready for leadership challenges!", "Strategic thinking in progress!", "Excellence ist unser Standard!"],
                         faces: ['üë©üèø‚Äçüíº', 'üíº', 'üéØ', '‚≠ê']
                     },
                     amara: {
                         messages: [
                             "Du w√§chst √ºber dich hinaus! üå±",
                             "Inspiration in Aktion! ‚≠ê", 
                             "Dein Potential wird sichtbar! üí´",
                             "Heute Gro√üartiges geschafft! üåü",
                             "Transformation in progress! ü¶ã",
                             "Lernen ist deine St√§rke! üìö",
                             "Authentisch und stark! üí™",
                             "Du inspirierst andere! ‚ú®"
                         ],
                         faces: ['üë©üèø‚Äçüéì', 'üåü', '‚≠ê', 'üí´', 'ü¶ã', 'üå±', 'üí™', '‚ú®']
                     },
                     aya: {
                         messages: [
                             "Strukturiert zum Ziel! üéØ",
                             "Daten analysiert, L√∂sung gefunden! üìä", 
                             "Logik funktioniert immer! üß†",
                             "Systematischer Erfolg! üìà",
                             "Process optimization complete! ‚öôÔ∏è",
                             "KPIs achieved! ‚úÖ",
                             "Analytics-driven learning! üîç"
                         ],
                         faces: ['üë©üèª‚Äçüíª', 'üìä', 'üîç', 'üìà', 'üéØ', '‚öôÔ∏è', '‚úÖ']
                     },
                     nuru: {
                         messages: [
                             "System analysis: Learning optimal! üîç", 
                             "Security protocols: All green! ‚úÖ", 
                             "AI processing your progress... ü§ñ",
                             "Code quality: Excellent! üíª",
                             "Performance metrics: Outstanding! üìä",
                             "Zero vulnerabilities detected! üõ°Ô∏è",
                             "Machine learning adaptation active! üß†"
                         ],
                         faces: ['üë®üèø‚Äçüíª', 'ü§ñ', 'üìä', 'üîç', '‚ö°', 'üíæ', 'üõ°Ô∏è']
                     },
                     jo: {
                         messages: [
                             "Yo! Let's get this bread! üí∞", 
                             "No cap - du bist talented! üß¢",
                             "That hit different! üíØ",
                             "Main character energy activated! ‚≠ê",
                             "Level-up incoming! üî•",
                             "GG - gut gespielt! üéÆ",
                             "Speedrun-Modus on! ‚ö°"
                         ],
                         faces: ['üë®üèº‚Äçüéì', 'üòé', 'üî•', '‚ö°', 'üéÆ', '‚úåÔ∏è', 'üöÄ']
                     },
                     farida: {
                         messages: [
                             "Mit Respekt zum gemeinsamen Erfolg! ü§ù",
                             "Verschiedene Kulturen, gemeinsame Ziele! üåç", 
                             "Empathie ist eine Br√ºcke zu Verst√§ndnis! üíù",
                             "In Vielfalt liegt Kraft und Sch√∂nheit! üåà",
                             "Geduld und G√ºte f√ºhren zum Ziel! üïäÔ∏è",
                             "Zusammen wachsen, zusammen lernen! üå±",
                             "Inklusion beginnt mit Respekt! ‚úä"
                         ],
                         faces: ['üë©üèΩ‚Äçüéì', 'ü§ù', 'üíù', 'üåç', 'üåà', '‚ú®', 'üïäÔ∏è']
                     },
                     leo: {
                         messages: [
                             "Teamwork makes the dream work! üèÜ",
                             "Champions mindset activated! ‚ö°", 
                             "Performance level: BEAST MODE! üí™",
                             "Excellence is your standard! ü•á",
                             "Energy flows where focus goes! üî•",
                             "Winners never quit! üöÄ",
                             "Mental toughness shows! üéØ",
                             "Peak performance unlocked! ‚öΩ"
                         ],
                         faces: ['üèÉ‚Äç‚ôÇÔ∏è', 'üí™', '‚ö°', 'üî•', 'üèÜ', 'ü•á', 'üöÄ', '‚öΩ']
                     },
                     mina: {
                         messages: [
                             "Mit Geduld zum Erfolg! üè•",
                             "Sorgfalt zahlt sich aus! ‚öïÔ∏è", 
                             "Konzentriert und aufmerksam! üîç",
                             "Empathie ist St√§rke! üíù",
                             "Zeit nehmen bringt Qualit√§t! ‚è∞",
                             "Caring excellence! üíñ",
                             "Pr√§zision durch Ruhe! ü§ó"
                         ],
                         faces: ['üë©‚Äç‚öïÔ∏è', 'üíù', 'üîç', '‚è∞', 'üè•', '‚öïÔ∏è', 'üíñ']
                     },
                     malik: {
                         messages: [
                             "Trust is earned! ü§ù",
                             "Integrit√§t zeigt Charakter! ‚öñÔ∏è", 
                             "Verl√§sslich und stark! üõ°Ô∏è",
                             "Ehrlichkeit baut Vertrauen! üíé",
                             "Ethics first! üß≠",
                             "Character over convenience! üéØ",
                             "Trustworthy leadership! üìã"
                         ],
                         faces: ['ü§ù', '‚öñÔ∏è', 'üõ°Ô∏è', 'üíé', 'üß≠', 'üéØ', 'üìã']
                     }
                 };
                 
                 const avatarData = avatarSpecificData[currentAvatar] || {
                     messages: ["Weiter so! üí™", "Du machst das gro√üartig!", "Auf dem richtigen Weg!"],
                     faces: ['üòä', 'üí™', 'üéØ']
                 };
                 
                 avatarMessages = avatarData.messages;
                 avatarFaces = avatarData.faces;
             }
             
             let messageIndex = 0;
             let faceIndex = 0;

             const animationInterval = setInterval(() => {
                 // Nur animieren wenn nicht in Quiz aktiv
                 if (!document.querySelector('.quiz-container')) {
                     // Wechsle Avatar-Gesicht
                     document.getElementById('avatar-companion').querySelector('.avatar-face').textContent = 
                         avatarFaces[faceIndex % avatarFaces.length];
                     faceIndex++;

                     // Wechsle Avatar-Nachricht alle 6 Sekunden
                     if (faceIndex % 3 === 0) {
                         document.getElementById('avatar-bubble').textContent = 
                             avatarMessages[messageIndex % avatarMessages.length];
                         messageIndex++;
                     }
                 }
             }, 2000);

             // Speichere Interval f√ºr sp√§tere Bereinigung
             window.avatarAnimationInterval = animationInterval;
         }

         function switchToLegalAvatar(avatarType) {
             const avatarFace = document.getElementById('avatar-companion').querySelector('.avatar-face');
             const avatarBubble = document.getElementById('avatar-bubble');
             
             if (avatarType === 'regula') {
                 avatarFace.textContent = 'üë©‚Äçüè´';
                 avatarBubble.textContent = 'Prof. Regula hier! Lass uns KI-Regulierung verstehen! üß†‚öñÔ∏è';
                 
                 // Spezielle Prof. Regula Nachrichten
                 const regulaMessages = [
                     "KI-Risikoklassen sind wichtig! üéØ",
                     "Transparenz ist der Schl√ºssel! üîç",
                     "Hochrisiko-Systeme brauchen Sorgfalt! ‚ö†Ô∏è",
                     "EU AI Act: Schutz vor KI-Missbrauch! üõ°Ô∏è",
                     "Dokumentation ist Pflicht! üìù"
                 ];
                 
                 let regulaIndex = 0;
                 setInterval(() => {
                     avatarBubble.textContent = regulaMessages[regulaIndex % regulaMessages.length];
                     regulaIndex++;
                 }, 4000);
                 
             } else if (avatarType === 'datschu') {
                 avatarFace.textContent = 'üë®‚Äçüíº';
                 avatarBubble.textContent = 'Dr. Datschu hier! DSGVO kann einfach sein! üõ°Ô∏èüìã';
                 
                 // Spezielle Dr. Datschu Nachrichten
                 const datschuMessages = [
                     "Datenminimierung ist K√∂nig! üìè",
                     "Einwilligung muss freiwillig sein! ‚úÖ",
                     "Privacy by Design denken! üîí",
                     "Betroffenenrechte beachten! üë•",
                     "Datenpannen sofort melden! üö®"
                 ];
                 
                 let datschuIndex = 0;
                 setInterval(() => {
                     avatarBubble.textContent = datschuMessages[datschuIndex % datschuMessages.length];
                     datschuIndex++;
                 }, 4000);
             }
         }

         function updateGamificationStats(xpGained, newLevel) {
             // Update XP und Level
             const currentXp = parseInt(document.getElementById('current-xp').textContent);
             const newXp = currentXp + xpGained;
             
             document.getElementById('current-xp').textContent = newXp;
             
             if (newLevel) {
                 document.getElementById('player-level').textContent = newLevel;
                 
                 // Level-up Animation
                 const overlay = document.getElementById('gamification-overlay');
                 overlay.style.animation = 'levelUp 1s ease';
                 
                 setTimeout(() => {
                     overlay.style.animation = '';
                 }, 1000);
             }

             // Update Score
             const currentScore = parseInt(document.getElementById('total-score').textContent);
             document.getElementById('total-score').textContent = currentScore + xpGained;
             
             // Berufsspezifische Highscore-Tracking
             updateJobHighscore(xpGained);
         }

         function updateJobHighscore(xpGained) {
             // Simuliere berufsspezifische Highscores
             const jobHighscores = {
                 healthcare: { weekly: 1250, monthly: 4800, yearly: 18500 },
                 tech: { weekly: 980, monthly: 3600, yearly: 15200 },
                 legal: { weekly: 1100, monthly: 4200, yearly: 16800 },
                 production: { weekly: 1350, monthly: 5100, yearly: 19200 },
                 government: { weekly: 890, monthly: 3200, yearly: 14100 }
             };
             
             // Avatar reagiert auf Highscore-Erfolge
             if (xpGained >= 50) {
                 const highscoreMessages = [
                     "üèÜ Neuer Wochen-Rekord m√∂glich!",
                     "üìà Du kletterst im Ranking!",
                     "üéØ Top Performance heute!",
                     "‚≠ê Weiter so, Champion!"
                 ];
                 
                 const randomHighscore = highscoreMessages[Math.floor(Math.random() * highscoreMessages.length)];
                 setTimeout(() => {
                     document.getElementById('avatar-bubble').textContent = randomHighscore;
                 }, 2000);
             }
         }

         function earnBadge(badgeEmoji, badgeName) {
             // Finde das erste gesperrte Badge und ersetze es
             const lockedBadge = document.querySelector('.earned-badge.unlocked');
             if (lockedBadge) {
                 lockedBadge.textContent = badgeEmoji;
                 lockedBadge.title = badgeName;
                 lockedBadge.classList.remove('unlocked');
                 
                 // Badge-Earn Animation
                 lockedBadge.style.animation = 'badgeEarn 1s ease';
                 setTimeout(() => {
                     lockedBadge.style.animation = '';
                 }, 1000);

                 // Avatar reagiert auf neues Badge
                 document.getElementById('avatar-bubble').textContent = `Gl√ºckwunsch! ${badgeName} Badge erhalten! üéâ`;
             }
         }

        // ===================================================
        // üéØ PATH SELECTION LOGIC
        // ===================================================

                 function selectPath(pathType) {
             if (pathType === 'berufsspezifisch') {
                 showJobSpecificPaths();
             } else if (pathType === 'legal-ai') {
                 showLegalAIPaths();
             } else if (pathType === 'custom-path') {
                 showCustomPathBuilder();
             } else if (pathType === 'minigames') {
                 alert(`üéÆ Interaktive Minigames als Belohnung\n\nSie werden zur Demo weitergeleitet!`);
                 startQuizDemo();
             } else {
                 const pathDescriptions = {
                     themenspezifisch: "Fach√ºbergreifende Module zu aktuellen Compliance-Themen",
                     wissenssnacks: "Microlearning: Kurze Lernh√§ppchen mit Storytelling",
                     softskills: "Pers√∂nliche & soziale Kompetenzen f√ºr den Arbeitsalltag",
                     fortschritt: "Ihre Lernerfolge, Statistiken und Achievements"
                 };
                 alert(`üéØ ${pathDescriptions[pathType]}\n\nDieser Bereich wird in der finalen Version verf√ºgbar sein.`);
             }
         }

         function showJobSpecificPaths() {
             // Erstelle den HTML-Content f√ºr die berufsspezifischen Pfade
             const jobPathsHTML = `
                 <div class="path-menu" style="display: block;">
                     <div class="welcome-banner">
                         <div class="welcome-title">ü©∫ W√§hlen Sie Ihren Berufspfad</div>
                         <div class="welcome-subtitle">Level 1-10 Struktur mit Video ‚Üí Frage ‚Üí Minigame Flow</div>
                     </div>

                     <div class="path-grid">
                         <!-- Pflege & Gesundheitswesen -->
                         <div class="path-card new" onclick="selectJobPath('healthcare')">
                             <div class="path-icon">ü©∫</div>
                             <div class="path-badge">CleanRoom</div>
                             <div class="path-title">Pflege & Gesundheitswesen</div>
                             <div class="path-description">CleanRoom Essentials - Hygiene & Patientensicherheit</div>
                             <div class="path-meta">
                                 <span class="meta-item">‚è±Ô∏è 60-90 Min</span>
                                 <span class="meta-item">üìä Schwer</span>
                                 <span class="meta-item">üéØ Hygieneheld:in</span>
                             </div>
                             <ul class="path-features">
                                 <li>üßº H√§ndedesinfektion & PSA</li>
                                 <li>üìã GMP-Grundlagen & Ethik</li>
                                 <li>üìù Dokumentation & Protokolle</li>
                                 <li>üè• Patientensicherheit & Kommunikation</li>
                             </ul>
                             <div class="path-rewards">
                                 <span class="xp-badge">+1.200 XP</span>
                                 <span class="badge-reward">üõ°Ô∏è Hygieneheld:in Badge</span>
                             </div>
                             <div class="path-progress">
                                 <div class="path-progress-fill" style="width: 30%;"></div>
                             </div>
                             <div class="path-stats">
                                 <span>Level 3/10</span>
                                 <span>360 XP</span>
                             </div>
                         </div>

                         <!-- Kanzleien & Agenturen -->
                         <div class="path-card" onclick="selectJobPath('legal')">
                             <div class="path-icon">‚öñÔ∏è</div>
                             <div class="path-badge">DataLegal</div>
                             <div class="path-title">Kanzleien & Agenturen</div>
                             <div class="path-description">DataLegal Drive - DSGVO f√ºr Rechtsberatung</div>
                             <div class="path-meta">
                                 <span class="meta-item">‚è±Ô∏è 45-75 Min</span>
                                 <span class="meta-item">üìä Mittel-Schwer</span>
                                 <span class="meta-item">üéØ Datenschutzprofi</span>
                             </div>
                             <ul class="path-features">
                                 <li>üìã DSGVO-Grundlagen f√ºr Kanzleien</li>
                                 <li>üóÇÔ∏è Aktenvernichtung & Mandanten</li>
                                 <li>üåç Auftragsverarbeitung & Drittland</li>
                                 <li>‚è∞ Fristen & GOBD & Anti-Stress</li>
                             </ul>
                             <div class="path-rewards">
                                 <span class="xp-badge">+1.000 XP</span>
                                 <span class="badge-reward">üõ°Ô∏è Datenschutzprofi Badge</span>
                             </div>
                             <div class="path-progress">
                                 <div class="path-progress-fill" style="width: 70%;"></div>
                             </div>
                             <div class="path-stats">
                                 <span>Level 7/10</span>
                                 <span>700 XP</span>
                             </div>
                         </div>

                         <!-- Tech-Startups -->
                         <div class="path-card premium" onclick="selectJobPath('tech')">
                             <div class="path-icon">üë©‚Äçüíª</div>
                             <div class="path-badge">Sprint</div>
                             <div class="path-title">Tech-Startups</div>
                             <div class="path-description">Digital Safety Sprint - Security f√ºr Devs & PMs</div>
                             <div class="path-meta">
                                 <span class="meta-item">‚è±Ô∏è 50-80 Min</span>
                                 <span class="meta-item">üìä Mittel-Schwer</span>
                                 <span class="meta-item">üéØ ZeroTrust Hero</span>
                             </div>
                             <ul class="path-features">
                                 <li>üîê IT-Security Basics f√ºr Devs</li>
                                 <li>üîë Passwort, SSO, VPN</li>
                                 <li>ü§ñ AI-Nutzung & Prompt-Richtlinien</li>
                                 <li>üì± GitHub-Leak & BYOD-Sicherheit</li>
                             </ul>
                             <div class="path-rewards">
                                 <span class="xp-badge">+1.100 XP</span>
                                 <span class="badge-reward">üîê ZeroTrust Hero Badge</span>
                             </div>
                             <div class="path-progress">
                                 <div class="path-progress-fill" style="width: 20%;"></div>
                             </div>
                             <div class="path-stats">
                                 <span>Level 2/10</span>
                                 <span>220 XP</span>
                             </div>
                         </div>

                         <!-- Produktion & Logistik -->
                         <div class="path-card" onclick="selectJobPath('production')">
                             <div class="path-icon">üè≠</div>
                             <div class="path-badge">Factory</div>
                             <div class="path-title">Produktion & Logistik</div>
                             <div class="path-description">Factory First - Arbeitssicherheit & Lean</div>
                             <div class="path-meta">
                                 <span class="meta-item">‚è±Ô∏è 55-85 Min</span>
                                 <span class="meta-item">üìä Schwer</span>
                                 <span class="meta-item">üéØ Safety Champion</span>
                             </div>
                             <ul class="path-features">
                                 <li>ü¶∫ PSA & Fluchtwege & Ger√§te</li>
                                 <li>üö® Verhalten im Notfall</li>
                                 <li>üìä Lean, 5S, Prozesssicherheit</li>
                                 <li>üì¶ Gefahrgut & Lagerf√ºhrung</li>
                             </ul>
                             <div class="path-rewards">
                                 <span class="xp-badge">+1.300 XP</span>
                                 <span class="badge-reward">üè≠ Safety Champion Badge</span>
                             </div>
                             <div class="path-progress">
                                 <div class="path-progress-fill" style="width: 50%;"></div>
                             </div>
                             <div class="path-stats">
                                 <span>Level 5/10</span>
                                 <span>650 XP</span>
                             </div>
                         </div>

                         <!-- √ñffentliche Verwaltung -->
                         <div class="path-card" onclick="selectJobPath('government')">
                             <div class="path-icon">üèõÔ∏è</div>
                             <div class="path-badge">Digital</div>
                             <div class="path-title">√ñffentliche Verwaltung</div>
                             <div class="path-description">Digital Kompetent - KI & Ethik im Amt</div>
                             <div class="path-meta">
                                 <span class="meta-item">‚è±Ô∏è 40-70 Min</span>
                                 <span class="meta-item">üìä Mittel</span>
                                 <span class="meta-item">üéØ Verwaltungsprofi</span>
                             </div>
                             <ul class="path-features">
                                 <li>‚ôø Digitale Barrierefreiheit</li>
                                 <li>üìß E-Mail-Sicherheit im Amt</li>
                                 <li>ü§ñ KI & Ethik bei B√ºrgeranfragen</li>
                                 <li>üìú Datenschutz & EU AI Act</li>
                             </ul>
                             <div class="path-rewards">
                                 <span class="xp-badge">+900 XP</span>
                                 <span class="badge-reward">üèõÔ∏è Verwaltungsprofi Badge</span>
                             </div>
                             <div class="path-progress">
                                 <div class="path-progress-fill" style="width: 80%;"></div>
                             </div>
                             <div class="path-stats">
                                 <span>Level 8/10</span>
                                 <span>720 XP</span>
                             </div>
                         </div>
                     </div>

                     <div style="text-align: center; margin-top: 30px;">
                         <button class="start-button" onclick="backToPathMenu()">‚Üê Zur√ºck zum Hauptmen√º</button>
                         <button class="start-button" onclick="startQuizDemo()">üéØ Demo: Quiz mit Minigame-Belohnung</button>
                     </div>
                 </div>
             `;

             // Ersetze den aktuellen Inhalt der main-area
             document.querySelector('.main-area').innerHTML = jobPathsHTML;
         }

         function selectJobPath(jobType) {
             // Spezielle Nuru-Aktivierung f√ºr Tech-Pfade
             if (jobType === 'tech') {
                 activateNuruTech();
             } else {
                 // Aktiviere berufsspezifischen Avatar
                 activateJobAvatar(jobType);
             }
             
             const jobDetails = {
                 healthcare: {
                     title: "ü©∫ CleanRoom Essentials - Pflege & Gesundheitswesen",
                     avatar: "Hygiene-Experte üßº",
                     levels: `üìö Detaillierte Level-Struktur:

Level 1 (Rookie): H√§ndedesinfektion, PSA, Sauberkeitsklassen
‚Ä¢ Intro-Quiz mit Grundlagen
‚Ä¢ Avatar erkl√§rt CleanRoom-Standards

Level 2 (Explorer): GMP-Grundlagen, Ethik im Alltag  
‚Ä¢ Mini-Challenge: Desinfektionsspiel
‚Ä¢ Interaktive Simulation der Handhygiene

Level 3 (Challenger): Dokumentation, Protokollfehler
‚Ä¢ RISIKOFRAGE: Fallbeispiel aus der Praxis
‚Ä¢ Fehleranalyse mit Konsequenzen

Level 4-10: Hygienezonen, Patientensicherheit, Kommunikation
‚Ä¢ Teamfrage Level 9: Notfall-Simulation
‚Ä¢ Audio-Reaktionen bei kritischen Situationen
‚Ä¢ Badge: üßº Hygieneheld:in`,
                     badge: "üßº Hygieneheld:in",
                     xp: "+1.200 XP"
                 },
                 
                 legal: {
                     title: "‚öñÔ∏è DataLegal Drive - Kanzleien & Agenturen",
                     avatar: "Anwalt Bot ‚öñÔ∏è",
                     levels: `üìö Detaillierte Level-Struktur:

Level 1: DSGVO-Grundlagen f√ºr Kanzleien
‚Ä¢ Video von Avatar ‚ÄûAnwalt Bot"
‚Ä¢ Rechtliche Grundlagen einfach erkl√§rt

Level 2: Aktenvernichtung, Mandantenkommunikation
‚Ä¢ Interaktive Drag & Drop Challenge
‚Ä¢ Sichere Dokumentenverarbeitung

Level 3: Auftragsverarbeitung, Drittlandtransfer
‚Ä¢ RISIKOFRAGE: IT-Szenario mit rechtlichen Folgen
‚Ä¢ Internationale Daten√ºbertragung

Level 4-10: Fristen, GOBD, Anti-Stress in der Kanzlei
‚Ä¢ Zeitmanagement f√ºr Juristen
‚Ä¢ Badge: üõ°Ô∏è Datenschutzprofi`,
                     badge: "üõ°Ô∏è Datenschutzprofi",
                     xp: "+1.000 XP"
                 },
                 
                 tech: {
                     title: "ü§ñ Nuru's Tech Excellence - AI-powered DevSec",
                     avatar: "Nuru AI-Analyst üë®üèø‚Äçüíª",
                     levels: `üìö KI-gest√ºtzte Level-Struktur mit Nuru:

Level 1: Zero-Trust Security Fundamentals
‚Ä¢ Nuru erkl√§rt: "Never trust, always verify" üîí
‚Ä¢ AI-basierte Threat Detection Simulation
‚Ä¢ Interactive Code-Vulnerability Scanner

Level 2: DevSec Pipeline Integration
‚Ä¢ Live-Demo: CI/CD Security Gates üîß
‚Ä¢ Nuru's Tool-Stack: SAST, DAST, SCA
‚Ä¢ Performance vs. Security Balance

Level 3: AI & Machine Learning Security
‚Ä¢ Nuru special: Model Poisoning Prevention ü§ñ
‚Ä¢ Bias Detection in AI Systems
‚Ä¢ RISIKOFRAGE: ML Model Deployment Decision

Level 4-10: Incident Response, Cloud Security, API Security
‚Ä¢ Nuru's Analytics: Real-time Security Metrics üìä
‚Ä¢ Teamfrage Level 9: Security Culture Building
‚Ä¢ Advanced: Kubernetes Security & Container Scanning
‚Ä¢ Badge: ü§ñ AI-Security Expert (powered by Nuru)`,
                     badge: "ü§ñ AI-Security Expert",
                     xp: "+1.500 XP (KI-Bonus)"
                 },
                 
                 production: {
                     title: "üè≠ Factory First - Produktion & Logistik",
                     avatar: "Safety Guard ü¶∫",
                     levels: `üìö Detaillierte Level-Struktur:

Level 1: PSA, Fluchtwege, Ger√§tesicherheit
‚Ä¢ Video aus 1st-Person-Perspektive
‚Ä¢ Immersive Fabrik-Simulation

Level 2: Verhalten im Notfall
‚Ä¢ Sound-Quiz: Alarme richtig erkennen
‚Ä¢ Evakuierungs-Szenarien

Level 3: Lean, 5S, Prozesssicherheit
‚Ä¢ Mini-Spiel: Stapel richtig sortieren
‚Ä¢ Effizienz-Optimierung praktisch

Level 4-10: Gefahrgut, Fahrlogik, Lagerf√ºhrung
‚Ä¢ Teamfrage: Sicherheitsanalyse
‚Ä¢ Badge: üß∞ Safety Champion`,
                     badge: "üß∞ Safety Champion",
                     xp: "+1.300 XP"
                 },
                 
                 government: {
                     title: "üèõÔ∏è Digital Kompetent - √ñffentliche Verwaltung",
                     avatar: "Amt-Digital üíª",
                     levels: `üìö Detaillierte Level-Struktur:

Level 1: Digitale Barrierefreiheit
‚Ä¢ Video mit Geb√§rdensprach-Overlay
‚Ä¢ Inklusion in der Verwaltung

Level 2: E-Mail-Sicherheit im Amt
‚Ä¢ Quiz mit realen Amtsbeispielen
‚Ä¢ Phishing-Erkennung f√ºr Beh√∂rden

Level 3: KI & Ethik im Verwaltungskontext
‚Ä¢ Fallanalyse: AI-Einsatz bei B√ºrgeranfragen
‚Ä¢ Ethische Entscheidungsfindung

Level 4-10: Datenschutz, Aktenf√ºhrung, EU AI Act
‚Ä¢ Compliance f√ºr √∂ffentliche Stellen
‚Ä¢ Badge: üèõÔ∏è Digitale:r Verwaltungsprofi`,
                     badge: "üèõÔ∏è Digitale:r Verwaltungsprofi",
                     xp: "+900 XP"
                 }
             };

             const job = jobDetails[jobType];
             
             if (jobType === 'tech') {
                 // Spezielle Nuru Tech Demo
                 alert(`ü§ñ ${job.title}\n\n${job.levels}\n\n‚ö° NURU AI-POWERED FEATURES:\nüîç Advanced Threat Detection Training\nüìä Real-time Security Analytics\nü§ñ Machine Learning Assisted Learning\nüõ°Ô∏è Zero-Trust Architecture Simulation\n\nüéÆ Enhanced Tech Gameplay:\nüì∫ Video (35s) ‚Üí ‚ùì Tech-Frage (Adaptive Time-Lock) ‚Üí üéÆ Security-Minigame ‚Üí ‚è© Fortschritt\nüéØ Critical Incident Response (Level 5 & 10)\nüß† DevSec Culture Teamfrage (Level 9)\n\n${job.xp} + ${job.badge}\nüë§ Avatar: ${job.avatar}\n\nüöÄ NURU TECH DEMO wird gestartet...`);
                 
                 // Load Nuru's tech questions and start demo
                 setTimeout(() => {
                     loadTechQuestions();
                     startQuizDemo();
                 }, 2000);
             } else {
                 alert(`${job.title}\n\n${job.levels}\n\nüéÆ Spielmechaniken aktiv:\nüì∫ Video (35s) ‚Üí ‚ùì Frage (Time-Lock) ‚Üí üéÆ Minigame ‚Üí ‚è© Fortschritt\nüéØ Risikofragen Level 5 & 10\nüß† Teamfrage Level 9\n\n${job.xp} + ${job.badge}\nüë§ Avatar: ${job.avatar}\n\nDieser Berufspfad wird in der finalen Version verf√ºgbar sein.`);
             }
         }

         function activateJobAvatar(jobType) {
             const avatarFace = document.getElementById('avatar-companion').querySelector('.avatar-face');
             const avatarBubble = document.getElementById('avatar-bubble');
             
             const jobAvatars = {
                 healthcare: {
                     face: 'üßº',
                     intro: 'Hygiene-Experte hier! Saubere H√§nde retten Leben! ü©∫',
                     messages: [
                         "H√§ndedesinfektion ist essentiell! üß¥",
                         "PSA sch√ºtzt Patient und Personal! ü¶∫",
                         "CleanRoom-Standards einhalten! ‚ú®",
                         "Dokumentation nicht vergessen! üìã",
                         "Patientensicherheit steht an erster Stelle! ‚ù§Ô∏è"
                     ]
                 },
                 legal: {
                     face: '‚öñÔ∏è',
                     intro: 'Anwalt Bot hier! Recht kann einfach sein! üìö',
                     messages: [
                         "DSGVO-Grundlagen sind wichtig! üìú",
                         "Mandantenschutz hat Priorit√§t! üõ°Ô∏è",
                         "Akten sicher vernichten! üóÇÔ∏è",
                         "Fristen immer einhalten! ‚è∞",
                         "Datenschutz in der Kanzlei! üîê"
                     ]
                 },
                 tech: {
                     face: 'üë®üèø‚Äçüíª',
                     intro: 'Nuru online! AI-powered security analysis activated! ü§ñ‚ö°',
                     messages: [
                         "Zero-Trust architecture online! üõ°Ô∏è",
                         "SAST/DAST scans running... ‚úÖ",
                         "Container security validated! üì¶",
                         "API endpoints secured! üîí",
                         "ML model poisoning detected! ü§ñ",
                         "DevSec pipeline optimized! ‚ö°",
                         "Threat analysis complete! üîç"
                     ]
                 },
                 production: {
                     face: 'ü¶∫',
                     intro: 'Safety Guard hier! Sicherheit geht vor! üè≠',
                     messages: [
                         "PSA immer tragen! üë∑",
                         "Fluchtwege freihalten! üö™",
                         "5S-Prinzip befolgen! üìä",
                         "Gefahrgut korrekt handhaben! ‚ö†Ô∏è",
                         "Teamwork rettet Leben! ü§ù"
                     ]
                 },
                 government: {
                     face: 'üíª',
                     intro: 'Amt-Digital hier! B√ºrgerservice digital! üèõÔ∏è',
                     messages: [
                         "Barrierefreiheit beachten! ‚ôø",
                         "E-Mails sicher verschl√ºsseln! üìß",
                         "KI ethisch einsetzen! ü§ñ",
                         "Datenschutz f√ºr B√ºrger! üë•",
                         "Digitalisierung vorantreiben! üöÄ"
                     ]
                 }
             };

             const avatar = jobAvatars[jobType];
             if (avatar) {
                 avatarFace.textContent = avatar.face;
                 avatarBubble.textContent = avatar.intro;
                 
                 let messageIndex = 0;
                 setInterval(() => {
                     avatarBubble.textContent = avatar.messages[messageIndex % avatar.messages.length];
                     messageIndex++;
                 }, 4000);
             }
         }

         function showLegalAIPaths() {
             // Erstelle den HTML-Content f√ºr die Legal & AI Pfade
             const legalPathsHTML = `
                 <div class="path-menu" style="display: block;">
                     <div class="welcome-banner">
                         <div class="welcome-title">‚öñÔ∏è Recht & KI-Regulierung</div>
                         <div class="welcome-subtitle">EU AI Act & DSGVO Compliance mit Avatar-Guides</div>
                     </div>

                     <div class="path-grid">
                         <!-- EU AI Act Essentials -->
                         <div class="path-card new" onclick="selectLegalPath('ai-act')">
                             <div class="path-icon">üß†</div>
                             <div class="path-badge">Prof. Regula</div>
                             <div class="path-title">EU AI Act Essentials</div>
                             <div class="path-description">KI-Regulierung f√ºr Entwickler:innen, HR, Legal & F√ºhrungskr√§fte</div>
                             <div class="path-meta">
                                 <span class="meta-item">‚è±Ô∏è 80-120 Min</span>
                                 <span class="meta-item">üìä Schwer</span>
                                 <span class="meta-item">üéØ EU AI Act Qualified</span>
                             </div>
                             <div class="target-groups" style="margin-bottom: 15px;">
                                 <div style="font-weight: bold; margin-bottom: 8px; color: #667eea;">üë• Zielgruppen:</div>
                                 <div style="display: flex; flex-wrap: wrap; gap: 5px;">
                                     <span class="target-tag">HR & People Ops</span>
                                     <span class="target-tag">Entwickler:innen</span>
                                     <span class="target-tag">Legal & Compliance</span>
                                     <span class="target-tag">Datenschutz</span>
                                     <span class="target-tag">Beh√∂rden</span>
                                 </div>
                             </div>
                             <ul class="path-features">
                                 <li>üéØ Risikoklassen & verbotene Praktiken</li>
                                 <li>üìã Hochrisiko-Systeme & Checklisten</li>
                                 <li>ü§ñ Bot Disclosure & Transparenz</li>
                                 <li>üìù Technische Dokumentation</li>
                             </ul>
                             <div class="special-features" style="margin-bottom: 15px;">
                                 <div style="font-weight: bold; margin-bottom: 8px; color: #4ECDC4;">üîë Besondere Elemente:</div>
                                 <div style="font-size: 0.9rem; color: #666; line-height: 1.4;">
                                     ‚Ä¢ Avatar "Prof. Regula" erkl√§rt KI-Gesetze einfach<br>
                                     ‚Ä¢ Mini-Game: "Risikoklasse richtig zuordnen"<br>
                                     ‚Ä¢ Download: AI Compliance Cheat Sheet<br>
                                     ‚Ä¢ Risikofrage Level 5: Anwendung & Meldepflicht<br>
                                     ‚Ä¢ Teamfrage Level 9: Risikoanalyse-Simulation
                                 </div>
                             </div>
                             <div class="path-rewards">
                                 <span class="xp-badge">+1.200 XP</span>
                                 <span class="badge-reward">üß† EU AI Act Qualified</span>
                             </div>
                             <div class="path-progress">
                                 <div class="path-progress-fill" style="width: 10%;"></div>
                             </div>
                             <div class="path-stats">
                                 <span>Level 1/10</span>
                                 <span>120 XP</span>
                             </div>
                         </div>

                         <!-- DSGVO Masterclass -->
                         <div class="path-card premium" onclick="selectLegalPath('dsgvo')">
                             <div class="path-icon">üõ°Ô∏è</div>
                             <div class="path-badge">Dr. Datschu</div>
                             <div class="path-title">DSGVO Masterclass</div>
                             <div class="path-description">Praktische DSGVO-Anwendung f√ºr alle Unternehmensbereiche</div>
                             <div class="path-meta">
                                 <span class="meta-item">‚è±Ô∏è 60-100 Min</span>
                                 <span class="meta-item">üìä Mittel-Schwer</span>
                                 <span class="meta-item">üéØ DSGVO Certified Pro</span>
                             </div>
                             <div class="target-groups" style="margin-bottom: 15px;">
                                 <div style="font-weight: bold; margin-bottom: 8px; color: #667eea;">üë• Zielgruppen:</div>
                                 <div style="display: flex; flex-wrap: wrap; gap: 5px;">
                                     <span class="target-tag">Sachbearbeiter:innen</span>
                                     <span class="target-tag">Marketing / CRM</span>
                                     <span class="target-tag">Personalabteilungen</span>
                                     <span class="target-tag">IT & Support</span>
                                     <span class="target-tag">Kanzleien</span>
                                 </div>
                             </div>
                             <ul class="path-features">
                                 <li>‚öñÔ∏è Grundprinzipien & Einwilligung</li>
                                 <li>üë• Rechte der Betroffenen</li>
                                 <li>üîê Privacy by Design & IT-Sicherheit</li>
                                 <li>üìß DSGVO & Marketing</li>
                             </ul>
                             <div class="special-features" style="margin-bottom: 15px;">
                                 <div style="font-weight: bold; margin-bottom: 8px; color: #4ECDC4;">üîë Besondere Elemente:</div>
                                 <div style="font-size: 0.9rem; color: #666; line-height: 1.4;">
                                     ‚Ä¢ Avatar "Dr. Datschu" als sympathischer Guide<br>
                                     ‚Ä¢ Drag & Drop Game: "Wer darf was speichern?"<br>
                                     ‚Ä¢ Quizkarten mit Alltagsszenarien (CRM, E-Mail, BYOD)<br>
                                     ‚Ä¢ Risikofrage Level 5: Daten√ºbertragung Drittstaaten<br>
                                     ‚Ä¢ Teamfrage Level 9: Meldungspflicht & Transparenz
                                 </div>
                             </div>
                             <div class="path-rewards">
                                 <span class="xp-badge">+1.000 XP</span>
                                 <span class="badge-reward">üõ°Ô∏è DSGVO Certified Pro</span>
                             </div>
                             <div class="path-progress">
                                 <div class="path-progress-fill" style="width: 20%;"></div>
                             </div>
                             <div class="path-stats">
                                 <span>Level 2/10</span>
                                 <span>200 XP</span>
                             </div>
                         </div>
                     </div>

                     <div style="text-align: center; margin-top: 30px;">
                         <button class="start-button" onclick="backToPathMenu()">‚Üê Zur√ºck zum Hauptmen√º</button>
                         <button class="start-button" onclick="startQuizDemo()">üéØ Demo: Quiz mit Minigame-Belohnung</button>
                     </div>
                 </div>
             `;

             // Ersetze den aktuellen Inhalt der main-area
             document.querySelector('.main-area').innerHTML = legalPathsHTML;
         }

         function selectLegalPath(legalType) {
             // Aktiviere spezifischen Legal-Avatar
             if (legalType === 'ai-act') {
                 switchToLegalAvatar('regula');
             } else if (legalType === 'dsgvo') {
                 switchToLegalAvatar('datschu');
             }

             const legalDescriptions = {
                 'ai-act': `üß† EU AI Act Essentials mit Prof. Regula

üìö Level-Details:
Level 1 (Rookie): Was ist der EU AI Act? - Begriffe, Ziel, Risikoklassen
Level 2 (Explorer): Verbotene KI-Praktiken - Emotionserkennung, Manipulation  
Level 3 (Challenger): Hochrisiko-Systeme - Checklisten, Branchenbeispiele
Level 4 (Strategist): Pflichten bei Hochrisiko - Konformit√§tsbewertung, Meldung
Level 5 (Prodigy): RISIKOFRAGE - Anwendung & Meldepflicht mit Szenarien
Level 6 (Mastermind): Transparenzpflichten - Bot Disclosure, Deepfake-Kennzeichnung
Level 7 (Visionary): KI in HR & Justiz - Anwendung in Personalprozessen
Level 8 (Guru): Technische Dokumentation - Konformit√§tsakte interaktiv
Level 9 (Architect): TEAMFRAGE - Risikoanalyse-Simulation einer Klassifikation
Level 10 (Super Expert): Pr√ºfungsmodul & Simulation - Badge & Zertifikat

üéÆ Features: Prof. Regula Avatar, Risikoklassen-Game, AI Compliance Cheat Sheet
üìã Zertifikat: EU AI Act Qualified`,
                 
                 'dsgvo': `üõ°Ô∏è DSGVO Masterclass mit Dr. Datschu

üìö Level-Details:
Level 1 (Rookie): Die Grundprinzipien - Datenminimierung, Rechtm√§√üigkeit
Level 2 (Explorer): Einwilligung & Zweckbindung - Quiz & Mini-Dialog-Simulation
Level 3 (Challenger): Rechte der Betroffenen - Fallbeispiele: Auskunft, L√∂schung
Level 4 (Strategist): Datenschutz durch Technik - Privacy by Design/Default
Level 5 (Prodigy): RISIKOFRAGE - Daten√ºbertragung Drittstaaten/Auftragsverarbeiter
Level 6 (Mastermind): IT-Sicherheit & technische Ma√ünahmen - 2FA, Protokollierung
Level 7 (Visionary): DSGVO & Marketing - Double-Opt-in, Tracking
Level 8 (Guru): Datenschutzverletzung - Szenario mit Timer: "Breach melden?"
Level 9 (Architect): TEAMFRAGE - Risikoanalyse Meldungspflicht & Transparenz
Level 10 (Super Expert): Fallpr√ºfung & Abschlussquiz - Badge & DSGVO-Zertifikat

üéÆ Features: Dr. Datschu Avatar, Drag & Drop Game, Alltags-Quizkarten
üìã Zertifikat: DSGVO Certified Pro`
             };

             alert(`${legalDescriptions[legalType]}\n\nüì∫ Video ‚Üí ‚ùì Frage ‚Üí üéÆ Minigame Flow aktiv\n‚öñÔ∏è Avatar aktiv: ${legalType === 'ai-act' ? 'Prof. Regula' : 'Dr. Datschu'}\n\nDieser Legal-Pfad wird in der finalen Version verf√ºgbar sein.`);
         }

         function showCustomPathBuilder() {
             // Aktiviere KI-Coach Avatar
             switchToKICoach();
             
             const customPathHTML = `
                 <div class="path-menu" style="display: block;">
                     <div class="welcome-banner">
                         <div class="welcome-title">üîß Mein eigener Pfad - Text-to-Path Engine</div>
                         <div class="welcome-subtitle">Erstelle individuelle Lernpfade mit KI-Unterst√ºtzung</div>
                     </div>

                     <div class="custom-path-container">
                         <!-- Rollenauswahl -->
                         <div class="role-selector">
                             <h3 style="color: #667eea; margin-bottom: 15px;">üë§ Erstelle als:</h3>
                             <div class="role-options">
                                 <label class="role-option">
                                     <input type="radio" name="role" value="user" checked>
                                     <span>üßç F√ºr mich selbst (privat)</span>
                                 </label>
                                 <label class="role-option">
                                     <input type="radio" name="role" value="team">
                                     <span>üë• F√ºr mein Team (teilbar)</span>
                                 </label>
                                 <label class="role-option">
                                     <input type="radio" name="role" value="admin">
                                     <span>üßë‚Äçüíº Als Admin (organisation)</span>
                                 </label>
                             </div>
                         </div>

                         <!-- Erstellungsoptionen -->
                         <div class="creation-methods">
                             <div class="method-tabs">
                                 <button class="method-tab active" onclick="switchCreationMethod('text')">
                                     üìù Text-Eingabe
                                 </button>
                                 <button class="method-tab" onclick="switchCreationMethod('upload')">
                                     üì§ Dokument-Upload
                                 </button>
                                 <button class="method-tab" onclick="switchCreationMethod('existing')">
                                     üìÇ Bestehende Pfade
                                 </button>
                             </div>

                             <!-- Text-Eingabe Method -->
                             <div class="creation-method" id="text-method">
                                 <div class="form-section">
                                     <h4>‚ú® Beschreibe deinen gew√ºnschten Lernpfad:</h4>
                                     <textarea 
                                         id="path-prompt" 
                                         class="path-input" 
                                         placeholder="Beispiel: 'Ich m√∂chte einen Pfad zum Thema Resilienz im Arbeitsalltag f√ºr meine HR-Abteilung erstellen. Fokus auf mentale Gesundheit, Fr√ºhwarnzeichen von Burnout und Kommunikation mit F√ºhrungskr√§ften.'"
                                         rows="4"
                                     ></textarea>
                                     
                                     <div class="quick-prompts">
                                         <h5>üí° Schnell-Vorlagen:</h5>
                                         <button class="quick-prompt" onclick="fillPrompt('kommunikation')">
                                             üó£Ô∏è Kommunikation in Konflikten
                                         </button>
                                         <button class="quick-prompt" onclick="fillPrompt('digitalisierung')">
                                             üíª Digitale Transformation
                                         </button>
                                         <button class="quick-prompt" onclick="fillPrompt('nachhaltigkeit')">
                                             üå± Nachhaltigkeit im Betrieb
                                         </button>
                                         <button class="quick-prompt" onclick="fillPrompt('leadership')">
                                             üëë Leadership & F√ºhrung
                                         </button>
                                     </div>

                                     <div class="advanced-options">
                                         <details>
                                             <summary>üõ†Ô∏è Erweiterte Optionen</summary>
                                             <div class="option-grid">
                                                 <label>
                                                     <span>üéØ Zielgruppe:</span>
                                                     <select class="form-select">
                                                         <option>Alle Mitarbeiter</option>
                                                         <option>F√ºhrungskr√§fte</option>
                                                         <option>HR & Personal</option>
                                                         <option>IT & Tech</option>
                                                         <option>Vertrieb & Marketing</option>
                                                     </select>
                                                 </label>
                                                 <label>
                                                     <span>üìä Schwierigkeit:</span>
                                                     <select class="form-select">
                                                         <option>Anf√§nger</option>
                                                         <option>Fortgeschritten</option>
                                                         <option>Experte</option>
                                                         <option>Gemischt</option>
                                                     </select>
                                                 </label>
                                                 <label>
                                                     <span>‚è±Ô∏è Dauer:</span>
                                                     <select class="form-select">
                                                         <option>30-45 Min</option>
                                                         <option>60-90 Min</option>
                                                         <option>90+ Min</option>
                                                     </select>
                                                 </label>
                                                 <label>
                                                     <span>üéÆ Gamification:</span>
                                                     <select class="form-select">
                                                         <option>Standard</option>
                                                         <option>Intensiv</option>
                                                         <option>Minimal</option>
                                                     </select>
                                                 </label>
                                             </div>
                                         </details>
                                     </div>
                                 </div>
                             </div>

                             <!-- Upload Method -->
                             <div class="creation-method" id="upload-method" style="display: none;">
                                 <div class="form-section">
                                     <h4>üì§ Dokument hochladen:</h4>
                                     <div class="upload-area" onclick="triggerFileUpload()">
                                         <div class="upload-content">
                                             <div class="upload-icon">üìÅ</div>
                                             <p>Klicken oder Datei hierher ziehen</p>
                                             <span class="file-types">PDF, DOCX, TXT, MD (max. 10MB)</span>
                                         </div>
                                         <input type="file" id="file-upload" accept=".pdf,.docx,.txt,.md" style="display: none;">
                                     </div>
                                     
                                     <div class="upload-examples">
                                         <h5>üìã Beispiele f√ºr Dokumente:</h5>
                                         <ul>
                                             <li>üè¢ Unternehmensrichtlinien & Leitf√§den</li>
                                             <li>üìú ISO-Normen & Compliance-Dokumente</li>
                                             <li>üìö Schulungshandb√ºcher & Checklisten</li>
                                             <li>üìã Prozessbeschreibungen & SOPs</li>
                                         </ul>
                                     </div>

                                     <div class="document-processing">
                                         <h5>ü§ñ KI-Verarbeitung:</h5>
                                         <div class="processing-steps">
                                             <div class="step">1Ô∏è‚É£ Automatische Strukturanalyse</div>
                                             <div class="step">2Ô∏è‚É£ Kapitel & Schl√ºsselbegriffe erkennen</div>
                                             <div class="step">3Ô∏è‚É£ 10-Level-Pfad generieren</div>
                                             <div class="step">4Ô∏è‚É£ Quizfragen & Gamification einbetten</div>
                                         </div>
                                     </div>
                                 </div>
                             </div>

                             <!-- Existing Paths Method -->
                             <div class="creation-method" id="existing-method" style="display: none;">
                                 <div class="form-section">
                                     <h4>üìÇ Bestehende Pfade durchsuchen:</h4>
                                     
                                     <div class="path-search">
                                         <input type="text" class="search-input" placeholder="üîç Pfad suchen...">
                                         <div class="search-filters">
                                             <button class="filter-btn active">Alle</button>
                                             <button class="filter-btn">Meine Pfade</button>
                                             <button class="filter-btn">Team-Pfade</button>
                                             <button class="filter-btn">√ñffentlich</button>
                                         </div>
                                     </div>

                                     <div class="existing-paths-list">
                                         <div class="existing-path">
                                             <div class="path-info">
                                                 <h5>üíº "Kommunikation in Konflikten"</h5>
                                                 <p>Erstellt von: HR Team ‚Ä¢ 2 Nutzer</p>
                                                 <div class="path-tags">
                                                     <span class="tag">HR</span>
                                                     <span class="tag">Kommunikation</span>
                                                 </div>
                                             </div>
                                             <button class="duplicate-btn" onclick="duplicatePath('conflict-comm')">üìã Duplizieren</button>
                                         </div>
                                         
                                         <div class="existing-path">
                                             <div class="path-info">
                                                 <h5>üå± "Nachhaltigkeit im B√ºroalltag"</h5>
                                                 <p>Erstellt von: Sustainability Team ‚Ä¢ 15 Nutzer</p>
                                                 <div class="path-tags">
                                                     <span class="tag">ESG</span>
                                                     <span class="tag">Umwelt</span>
                                                 </div>
                                             </div>
                                             <button class="duplicate-btn" onclick="duplicatePath('sustainability')">üìã Duplizieren</button>
                                         </div>
                                     </div>
                                 </div>
                             </div>
                         </div>

                         <!-- Action Buttons -->
                         <div class="action-section">
                             <button class="create-path-btn" onclick="generateCustomPath()">
                                 ü§ñ Pfad generieren mit KI
                             </button>
                             <button class="preview-btn" onclick="previewPath()">
                                 üëÅÔ∏è Vorschau
                             </button>
                         </div>
                     </div>

                     <div style="text-align: center; margin-top: 30px;">
                         <button class="start-button" onclick="backToPathMenu()">‚Üê Zur√ºck zum Hauptmen√º</button>
                     </div>
                 </div>
             `;

             // Ersetze den aktuellen Inhalt der main-area
             document.querySelector('.main-area').innerHTML = customPathHTML;
         }

         function switchToKICoach() {
             // Aktiviere Nuru als KI-Engine Spezialist
             activateNuruAI();
         }

         function activateNuruAI() {
             const avatarFace = document.getElementById('avatar-companion').querySelector('.avatar-face');
             const avatarBubble = document.getElementById('avatar-bubble');
             
             avatarFace.textContent = 'üë®üèø‚Äçüíª';
             avatarBubble.textContent = 'System online! Nuru hier - KI-Analyse startet! ü§ñ‚ö°';
             
             // Nuru's AI-Engine Nachrichten
             const nuruAIMessages = [
                 "Analyzing input parameters... üîç",
                 "Document structure recognition active! üìä", 
                 "Neural networks processing your request! üß†",
                 "Generating optimized learning modules! üéØ",
                 "AI-powered gamification in progress! üéÆ",
                 "Machine learning suggests best practices! üìà",
                 "Data validation complete - quality assured! ‚úÖ"
             ];
             
             let messageIndex = 0;
             const nuruInterval = setInterval(() => {
                 avatarBubble.textContent = nuruAIMessages[messageIndex % nuruAIMessages.length];
                 messageIndex++;
             }, 3500);
             
             // Speichere f√ºr cleanup
             window.nuruAIInterval = nuruInterval;
             window.currentAvatar = 'nuru';
         }

         function activateNuruTech() {
             const avatarFace = document.getElementById('avatar-companion').querySelector('.avatar-face');
             const avatarBubble = document.getElementById('avatar-bubble');
             
             avatarFace.textContent = 'üë®üèø‚Äçüíª';
             avatarBubble.textContent = 'Nuru online! Tech-Expertise activated! üíªüîí';
             
             // Nuru's Tech-Security Nachrichten
             const nuruTechMessages = [
                 "Security protocols engaged! üîí",
                 "System integrity: 100% verified! ‚úÖ", 
                 "Threat analysis complete! üõ°Ô∏è",
                 "Code review: No vulnerabilities detected! üîç",
                 "DevSec pipeline optimized! ‚ö°",
                 "Zero-trust architecture active! üéØ",
                 "Cybersecurity shields up! üõ°Ô∏è"
             ];
             
             let messageIndex = 0;
             setInterval(() => {
                 avatarBubble.textContent = nuruTechMessages[messageIndex % nuruTechMessages.length];
                 messageIndex++;
             }, 4000);
             
             window.currentAvatar = 'nuru';
         }

         function activateJoGaming() {
             const avatarFace = document.getElementById('avatar-companion').querySelector('.avatar-face');
             const avatarBubble = document.getElementById('avatar-bubble');
             
             avatarFace.textContent = 'üë®üèº‚Äçüéì';
             avatarBubble.textContent = 'Yo! Jo am Start - let\'s level up together! üéÆ‚úåÔ∏è';
             
             // Jo's Gaming-Energy Nachrichten
             const joGamingMessages = [
                 "Ready Player One? Let's go! üéÆ",
                 "XP farming time! üìà",
                 "Diese Challenge ist ez! üòé",
                 "Speedrun-Modus activated! ‚ö°",
                 "Du bist on fire! üî•",
                 "Next achievement incoming! üèÜ",
                 "Gaming skills = Learning skills! üß†",
                 "Boss-Fight-Ready! üí™"
             ];
             
             let messageIndex = 0;
             setInterval(() => {
                 avatarBubble.textContent = joGamingMessages[messageIndex % joGamingMessages.length];
                 messageIndex++;
             }, 3500);
             
             window.currentAvatar = 'jo';
         }

         function activateJoAzubi() {
             const avatarFace = document.getElementById('avatar-companion').querySelector('.avatar-face');
             const avatarBubble = document.getElementById('avatar-bubble');
             
             avatarFace.textContent = 'üë®üèº‚Äçüéì';
             avatarBubble.textContent = 'Yo! Azubi-Mode activated! Tutorial l√§uft! üéì‚ö°';
             
             // Jo's Azubi-spezifische Nachrichten
             const joAzubiMessages = [
                 "Ausbildung = dein Life-Tutorial! üéÆ",
                 "Skills upgraden = Career boosten! üìà",
                 "Chef-Level braucht Zeit - grind weiter! ‚è≥",
                 "Work hard, level harder! üí™",
                 "Real-World-Experience loading... üåç",
                 "From Noob to Pro in 3 Jahren! üöÄ",
                 "Berufsschule meets Gaming! üéØ"
             ];
             
             let messageIndex = 0;
             setInterval(() => {
                 avatarBubble.textContent = joAzubiMessages[messageIndex % joAzubiMessages.length];
                 messageIndex++;
             }, 4000);
             
             window.currentAvatar = 'jo';
         }

         function activateFaridaCultural() {
             const avatarFace = document.getElementById('avatar-companion').querySelector('.avatar-face');
             const avatarBubble = document.getElementById('avatar-bubble');
             
             avatarFace.textContent = 'üë©üèΩ‚Äçüéì';
             avatarBubble.textContent = 'Farida hier! Gemeinsam bauen wir Br√ºcken! üåçü§ù';
             
             // Farida's Cultural & D&I Nachrichten
             const faridaCulturalMessages = [
                 "Vielfalt macht uns st√§rker! üåà",
                 "Respekt ist die Basis f√ºr alles! ü§ù",
                 "Verschiedene Perspektiven bereichern! üîç",
                 "Empathie √∂ffnet Herzen und T√ºren! üíù",
                 "Zusammen erreichen wir mehr! üë•",
                 "Inklusion ist kein Trend - es ist richtig! ‚úä",
                 "Kulturelle Br√ºcken verbinden uns! üåâ",
                 "Mit Verst√§ndnis zum gemeinsamen Erfolg! ‚ú®"
             ];
             
             let messageIndex = 0;
             setInterval(() => {
                 avatarBubble.textContent = faridaCulturalMessages[messageIndex % faridaCulturalMessages.length];
                 messageIndex++;
             }, 4500);
             
             window.currentAvatar = 'farida';
         }

         function activateFaridaHealthcare() {
             const avatarFace = document.getElementById('avatar-companion').querySelector('.avatar-face');
             const avatarBubble = document.getElementById('avatar-bubble');
             
             avatarFace.textContent = 'üë©üèΩ‚Äçüéì';
             avatarBubble.textContent = 'Farida here! Kultursensible Pflege activated! üè•üíù';
             
             // Farida's Healthcare-spezifische Nachrichten
             const faridaHealthcareMessages = [
                 "Jeder Patient verdient Respekt! üè•",
                 "Kulturelle Bed√ºrfnisse ber√ºcksichtigen! üïå",
                 "Famili√§re Strukturen wertsch√§tzen! üë®‚Äçüë©‚Äçüëß‚Äçüë¶",
                 "Sprache der F√ºrsorge spricht jeder! üíù",
                 "Empathie heilt mit! üåü",
                 "Vielfalt in der Medizin ist St√§rke! üåà",
                 "Respektvolle Betreuung f√ºr alle! ü§ù"
             ];
             
             let messageIndex = 0;
             setInterval(() => {
                 avatarBubble.textContent = faridaHealthcareMessages[messageIndex % faridaHealthcareMessages.length];
                 messageIndex++;
             }, 4000);
             
             window.currentAvatar = 'farida';
         }

         function activateAyaAnalytics() {
             const avatarFace = document.getElementById('avatar-companion').querySelector('.avatar-face');
             const avatarBubble = document.getElementById('avatar-bubble');
             
             avatarFace.textContent = 'üë©üèª‚Äçüíª';
             avatarBubble.textContent = 'Aya hier! Strukturierte Analyse activated! üìäüîç';
             
             // Aya's Analytics & Business Intelligence Nachrichten
             const ayaAnalyticsMessages = [
                 "Daten sprechen die Wahrheit! üìà",
                 "Logik ist der Schl√ºssel zum Erfolg! üîë",
                 "Strukturiert analysieren, systematisch l√∂sen! üìä",
                 "Patterns erkennen, Trends verstehen! üìâ",
                 "KPIs im gr√ºnen Bereich! ‚úÖ",
                 "Process optimization in progress! ‚öôÔ∏è",
                 "Analytics-driven learning! üéØ",
                 "Systematik f√ºhrt zum Erfolg! üß†"
             ];
             
             let messageIndex = 0;
             setInterval(() => {
                 avatarBubble.textContent = ayaAnalyticsMessages[messageIndex % ayaAnalyticsMessages.length];
                 messageIndex++;
             }, 4000);
             
             window.currentAvatar = 'aya';
         }

         function activateAyaProcess() {
             const avatarFace = document.getElementById('avatar-companion').querySelector('.avatar-face');
             const avatarBubble = document.getElementById('avatar-bubble');
             
             avatarFace.textContent = 'üë©üèª‚Äçüíª';
             avatarBubble.textContent = 'Aya online! Process Optimization Mode! ‚öôÔ∏èüìä';
             
             // Aya's Process & Quality Management Nachrichten
             const ayaProcessMessages = [
                 "Lean Management activated! ‚öôÔ∏è",
                 "Six Sigma Qualit√§t erreicht! üìä",
                 "Verschwendung eliminiert! ‚ôªÔ∏è",
                 "Workflow optimization complete! üîÑ",
                 "Continuous Improvement l√§uft! üìà",
                 "Kaizen-Prinzip angewendet! üéØ",
                 "Effizienz maximiert! ‚ö°"
             ];
             
             let messageIndex = 0;
             setInterval(() => {
                 avatarBubble.textContent = ayaProcessMessages[messageIndex % ayaProcessMessages.length];
                 messageIndex++;
             }, 4500);
             
             window.currentAvatar = 'aya';
         }

         function switchCreationMethod(method) {
             // Tab-Styling aktualisieren
             document.querySelectorAll('.method-tab').forEach(tab => {
                 tab.classList.remove('active');
             });
             event.target.classList.add('active');
             
             // Methods ein-/ausblenden
             document.querySelectorAll('.creation-method').forEach(methodDiv => {
                 methodDiv.style.display = 'none';
             });
             document.getElementById(method + '-method').style.display = 'block';
             
             // Avatar-Reaktion
             const methodMessages = {
                 text: 'Perfekt! Beschreibe einfach dein Lernziel! üìù',
                 upload: 'Super! Lade dein Dokument hoch! üì§',
                 existing: 'Clever! Nutze bestehende Pfade als Vorlage! üìÇ'
             };
             
             document.getElementById('avatar-bubble').textContent = methodMessages[method];
         }

         function fillPrompt(promptType) {
             const prompts = {
                 kommunikation: "Ich m√∂chte einen Pfad zum Thema 'Kommunikation in Konflikten' f√ºr mein Team erstellen. Fokus auf deeskalierende Gespr√§chsf√ºhrung, aktives Zuh√∂ren und konstruktive Konfliktl√∂sung in Arbeitsbeziehungen.",
                 digitalisierung: "Erstelle einen Lernpfad zu 'Digitale Transformation im Arbeitsalltag'. Schwerpunkt auf digitale Tools, Change Management, Remote Work Best Practices und digitale Kompetenzen f√ºr alle Altersgruppen.",
                 nachhaltigkeit: "Entwickle einen Pfad zu 'Nachhaltigkeit im Betrieb' mit Fokus auf ESG-Kriterien, umweltfreundliche B√ºropraktiken, nachhaltiges Wirtschaften und Corporate Social Responsibility.",
                 leadership: "Ich ben√∂tige einen Leadership-Pfad f√ºr neue F√ºhrungskr√§fte. Themen: Mitarbeiterf√ºhrung, Delegation, Feedback-Kultur, Team-Motivation und authentische F√ºhrungskompetenzen."
             };
             
             document.getElementById('path-prompt').value = prompts[promptType];
             document.getElementById('avatar-bubble').textContent = `‚ú® Prompt eingef√ºgt! Das wird ein gro√üartiger Pfad! üéØ`;
         }

         function triggerFileUpload() {
             document.getElementById('file-upload').click();
         }

         function duplicatePath(pathId) {
             const pathNames = {
                 'conflict-comm': 'Kommunikation in Konflikten',
                 'sustainability': 'Nachhaltigkeit im B√ºroalltag'
             };
             
             alert(`üìã Pfad "${pathNames[pathId]}" wird dupliziert!\n\nSie k√∂nnen ihn anschlie√üend bearbeiten und anpassen.`);
         }

         function generateCustomPath() {
             const prompt = document.getElementById('path-prompt')?.value;
             const selectedRole = document.querySelector('input[name="role"]:checked')?.value;
             
             if (!prompt && !document.getElementById('file-upload')?.files[0]) {
                 alert('Bitte geben Sie einen Text ein oder laden Sie ein Dokument hoch!');
                 return;
             }
             
             // Simuliere KI-Verarbeitung
             showKIProcessing();
         }

         function showKIProcessing() {
             document.getElementById('avatar-bubble').textContent = 'ü§ñ KI analysiert... Pfad wird generiert!';
             
             // Erstelle Processing-Overlay
             const processingHTML = `
                 <div style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); display: flex; align-items: center; justify-content: center; z-index: 2000;">
                     <div style="background: white; border-radius: 20px; padding: 40px; text-align: center; max-width: 500px; width: 90%;">
                         <h2 style="color: #667eea; margin-bottom: 20px;">ü§ñ KI-Pfad-Generierung</h2>
                         
                         <div class="processing-animation" style="margin: 20px 0;">
                             <div style="font-size: 3rem; animation: spin 2s linear infinite;">‚öôÔ∏è</div>
                         </div>
                         
                         <div class="processing-status">
                             <div class="status-step active">1Ô∏è‚É£ Text analysieren...</div>
                             <div class="status-step">2Ô∏è‚É£ Themen identifizieren...</div>
                             <div class="status-step">3Ô∏è‚É£ Level strukturieren...</div>
                             <div class="status-step">4Ô∏è‚É£ Fragen generieren...</div>
                             <div class="status-step">5Ô∏è‚É£ Gamification einbetten...</div>
                         </div>
                         
                         <div style="margin-top: 20px; color: #667eea; font-weight: bold;">
                             Gesch√§tzte Zeit: 15-30 Sekunden
                         </div>
                     </div>
                 </div>
             `;
             
             document.body.insertAdjacentHTML('beforeend', processingHTML);
             
             // Simuliere Verarbeitungsschritte
             simulateProcessingSteps();
         }

         function simulateProcessingSteps() {
             const steps = document.querySelectorAll('.status-step');
             let currentStep = 0;
             
             const processInterval = setInterval(() => {
                 if (currentStep > 0) {
                     steps[currentStep - 1].classList.remove('active');
                     steps[currentStep - 1].classList.add('completed');
                 }
                 
                 if (currentStep < steps.length) {
                     steps[currentStep].classList.add('active');
                     currentStep++;
                 } else {
                     clearInterval(processInterval);
                     setTimeout(() => {
                         finishPathGeneration();
                     }, 1000);
                 }
             }, 2000);
         }

         function finishPathGeneration() {
             // Entferne Processing-Overlay
             document.querySelector('[style*="position: fixed"]').remove();
             
             // Zeige generierten Pfad
             showGeneratedPath();
         }

         function showGeneratedPath() {
             const generatedPathHTML = `
                 <div class="path-menu" style="display: block;">
                     <div class="welcome-banner" style="background: linear-gradient(135deg, #4ECDC4, #44A08D);">
                         <div class="welcome-title">üéâ Pfad erfolgreich generiert!</div>
                         <div class="welcome-subtitle">KI hat Ihren individuellen Lernpfad erstellt</div>
                     </div>

                     <div class="generated-path-preview">
                         <div class="path-header">
                             <h2 style="color: #667eea;">üìö "HR: Resilienz & Selbstf√ºrsorge"</h2>
                             <div class="path-metadata">
                                 <span class="meta-tag">‚è±Ô∏è 75-90 Min</span>
                                 <span class="meta-tag">üìä Mittel</span>
                                 <span class="meta-tag">üë• HR-Abteilung</span>
                                 <span class="meta-tag">üèÜ Resilienz Coach Badge</span>
                             </div>
                         </div>

                         <div class="level-structure">
                             <h3>üéÆ Generierte Level-Struktur:</h3>
                             <div class="levels-grid">
                                 <div class="level-card">
                                     <div class="level-number">1</div>
                                     <div class="level-content">
                                         <h4>Grundlagen der Resilienz</h4>
                                         <p>Was ist Resilienz? Grundprinzipien & Selbsteinsch√§tzung</p>
                                     </div>
                                 </div>
                                 
                                 <div class="level-card">
                                     <div class="level-number">2</div>
                                     <div class="level-content">
                                         <h4>Stressmanagement im Alltag</h4>
                                         <p>Stressfaktoren erkennen, Bew√§ltigungsstrategien</p>
                                     </div>
                                 </div>
                                 
                                 <div class="level-card">
                                     <div class="level-number">3</div>
                                     <div class="level-content">
                                         <h4>Mikropausen & Selbstf√ºrsorge</h4>
                                         <p>Praktische √úbungen f√ºr den Arbeitsalltag</p>
                                     </div>
                                 </div>
                                 
                                 <div class="level-card">
                                     <div class="level-number">4</div>
                                     <div class="level-content">
                                         <h4>Kommunikation bei √úberlastung</h4>
                                         <p>Grenzen setzen, Hilfe suchen, Feedback geben</p>
                                     </div>
                                 </div>
                                 
                                 <div class="level-card risk">
                                     <div class="level-number">5</div>
                                     <div class="level-content">
                                         <h4>üéØ RISIKOFRAGE: Burnout-Pr√§vention</h4>
                                         <p>Fr√ºhwarnzeichen erkennen & handeln</p>
                                     </div>
                                 </div>
                                 
                                 <div class="level-card">
                                     <div class="level-number">6</div>
                                     <div class="level-content">
                                         <h4>Positive Feedbackkultur</h4>
                                         <p>St√§rkung des Teamklimas</p>
                                     </div>
                                 </div>
                                 
                                 <div class="level-card">
                                     <div class="level-number">7</div>
                                     <div class="level-content">
                                         <h4>Work-Life-Balance</h4>
                                         <p>Grenzen ziehen, Priorit√§ten setzen</p>
                                     </div>
                                 </div>
                                 
                                 <div class="level-card">
                                     <div class="level-number">8</div>
                                     <div class="level-content">
                                         <h4>F√ºhrung & mentale Gesundheit</h4>
                                         <p>Verantwortung als F√ºhrungskraft</p>
                                     </div>
                                 </div>
                                 
                                 <div class="level-card team">
                                     <div class="level-number">9</div>
                                     <div class="level-content">
                                         <h4>üß† TEAMFRAGE: Gemeinsame L√∂sungen</h4>
                                         <p>Zusammen resiliente Teams schaffen</p>
                                     </div>
                                 </div>
                                 
                                 <div class="level-card final">
                                     <div class="level-number">10</div>
                                     <div class="level-content">
                                         <h4>Abschlusstest & Aktionsplan</h4>
                                         <p>Wissen testen & pers√∂nlichen Plan erstellen</p>
                                     </div>
                                 </div>
                             </div>
                         </div>

                         <div class="path-features-summary">
                             <h3>‚ú® KI-generierte Features:</h3>
                             <div class="features-list">
                                 <div class="feature-item">üì∫ 35s Videos zu jedem Level automatisch vorgeschlagen</div>
                                 <div class="feature-item">‚ùì 50 kontextuelle Quizfragen generiert</div>
                                 <div class="feature-item">üéÆ Vollst√§ndige Gamification-Integration</div>
                                 <div class="feature-item">üéØ Risikofragen & Teamfragen strategisch platziert</div>
                                 <div class="feature-item">üèÜ Custom "Resilienz Coach" Badge erstellt</div>
                             </div>
                         </div>

                         <div class="action-buttons-final">
                             <button class="start-button" onclick="startCustomPath()">
                                 üöÄ Pfad jetzt starten
                             </button>
                             <button class="start-button" style="background: #667eea;" onclick="editCustomPath()">
                                 ‚úèÔ∏è Pfad bearbeiten
                             </button>
                             <button class="start-button" style="background: #4ECDC4;" onclick="shareCustomPath()">
                                 üì§ Pfad teilen
                             </button>
                             <button class="start-button" style="background: #f0f0f0; color: #333;" onclick="backToPathMenu()">
                                 ‚Üê Zur√ºck zum Hauptmen√º
                             </button>
                         </div>
                     </div>
                 </div>
             `;
             
             document.querySelector('.main-area').innerHTML = generatedPathHTML;
             document.getElementById('avatar-bubble').textContent = 'üéâ Perfekt! Dein Resilienz-Pfad ist fertig! Bereit zum Starten? üöÄ';
         }

         function previewPath() {
             alert('üëÅÔ∏è Vorschau-Funktion\n\nHier w√ºrden Sie eine Vorschau des generierten Pfads sehen, bevor Sie ihn finalisieren.');
         }

         function startCustomPath() {
             alert('üöÄ Custom Path gestartet!\n\nIhr generierter "Resilienz & Selbstf√ºrsorge" Pfad wird ins Spielsystem integriert!\n\nWeiterleitung zur Demo...');
             
             // Path Creator Badge vergeben
             earnBadge('üèóÔ∏è', 'Path Creator');
             
             // Custom Path Avatar aktivieren
             const avatarFace = document.getElementById('avatar-companion').querySelector('.avatar-face');
             const avatarBubble = document.getElementById('avatar-bubble');
             avatarFace.textContent = 'üí™';
             avatarBubble.textContent = 'Resilienz-Coach bereit! Lass uns mentale St√§rke aufbauen! üß†‚ú®';
             
             // Spezielle Custom-Path Fragen laden
             loadCustomPathQuestions();
             startQuizDemo();
         }

         function editCustomPath() {
             alert('‚úèÔ∏è Pfad-Editor\n\nHier k√∂nnen Sie:\n‚Ä¢ Level-Titel bearbeiten\n‚Ä¢ Fragen anpassen\n‚Ä¢ Videos hinzuf√ºgen\n‚Ä¢ Gamification-Einstellungen √§ndern');
         }

         function shareCustomPath() {
             alert('üì§ Pfad teilen\n\nOptionen:\n‚Ä¢ Link generieren\n‚Ä¢ Team zuweisen\n‚Ä¢ In Organisation ver√∂ffentlichen\n‚Ä¢ Als Template exportieren');
         }

         function loadCustomPathQuestions() {
             // Ersetze Demo-Fragen durch Custom-Path Fragen
             const customQuestions = [
                 {
                     question: "üß† RESILIENZ: Was ist der wichtigste Faktor f√ºr psychische Widerstandsf√§higkeit?",
                     answers: [
                         "Perfekte Arbeitsleistung",
                         "Selbstwahrnehmung und Reflexion",
                         "Keine Pausen machen", 
                         "Probleme ignorieren"
                     ],
                     correct: 1,
                     explanation: "Selbstwahrnehmung ist die Basis f√ºr resilientes Verhalten und Stressmanagement.",
                     category: "resilience"
                 },
                 {
                     question: "‚ö° STRESS: Welche Mikropause ist im B√ºroalltag am effektivsten?",
                     answers: [
                         "5 Min E-Mails checken",
                         "2 Min bewusst atmen",
                         "10 Min Social Media",
                         "Kaffee trinken"
                     ],
                     correct: 1,
                     explanation: "Bewusstes Atmen aktiviert das parasympathische Nervensystem und reduziert Stress.",
                     category: "stress"
                 },
                 {
                     question: "üó£Ô∏è KOMMUNIKATION: Wie kommuniziere ich √úberlastung professionell?",
                     answers: [
                         "Gar nicht - durchhalten",
                         "Konkrete Situation & L√∂sungsvorschl√§ge",
                         "Nur beschweren",
                         "K√ºndigung androhen"
                     ],
                     correct: 1,
                     explanation: "Professionelle Kommunikation beinhaltet Problem und konstruktive L√∂sungsans√§tze.",
                     category: "communication"
                 },
                 {
                     question: "üß† TEAMFRAGE: Welche Teamma√ünahme st√§rkt kollektive Resilienz?",
                     answers: [
                         "Mehr Kontrolle",
                         "Regelm√§√üige Reflexionsrunden",
                         "L√§ngere Arbeitszeiten",
                         "Weniger Kommunikation"
                     ],
                     correct: 1,
                     explanation: "Reflexionsrunden f√∂rdern Austausch, Lernen und gegenseitige Unterst√ºtzung.",
                     category: "team"
                 },
                 {
                     question: "üéØ RISIKOFRAGE: Welches Burnout-Fr√ºhwarnzeichen ist kritisch?",
                     answers: [
                         "Gelegentliche M√ºdigkeit",
                         "Anhaltende emotionale Ersch√∂pfung",
                         "Einmaliger schlechter Tag",
                         "Normaler Leistungsdruck"
                     ],
                     correct: 1,
                     explanation: "Anhaltende emotionale Ersch√∂pfung ist ein Hauptindikator f√ºr Burnout-Entwicklung.",
                     category: "burnout"
                 }
             ];
             
             // Ersetze globale Demo-Fragen
             window.demoQuestions = customQuestions;
         }

         function loadTechQuestions() {
             // Nuru's AI-powered Tech-Security Fragen
             const nuruTechQuestions = [
                 {
                     question: "ü§ñ NURU ANALYSIS: Was ist die Grundlage von Zero-Trust Security?",
                     answers: [
                         "Alles innerhalb der Firewall ist sicher",
                         "Never trust, always verify - kontinuierliche Authentifizierung",
                         "Nur externe Threats sind gef√§hrlich", 
                         "Einmalige Passwort-Pr√ºfung reicht"
                     ],
                     correct: 1,
                     explanation: "Zero-Trust bedeutet: Niemals vertrauen, immer verifizieren. Auch interne Systeme werden kontinuierlich validiert.",
                     category: "tech"
                 },
                 {
                     question: "‚ö° DEVSEC PIPELINE: Wann sollte Security Testing integriert werden?",
                     answers: [
                         "Nur am Ende vor Deployment",
                         "Shift-Left: Von Anfang an in CI/CD Pipeline",
                         "Erst nach Go-Live bei Problemen",
                         "Nur bei kritischen Applikationen"
                     ],
                     correct: 1,
                     explanation: "Shift-Left Security: Je fr√ºher Security-Tests in der Pipeline, desto kosteneffizienter und sicherer.",
                     category: "tech"
                 },
                 {
                     question: "üß† AI SECURITY: Was ist Model Poisoning bei Machine Learning?",
                     answers: [
                         "Modell lernt zu schnell",
                         "Manipulierte Trainingsdaten verf√§lschen ML-Modell",
                         "Modell verbraucht zu viel Speicher",
                         "Modell ist zu transparent"
                     ],
                     correct: 1,
                     explanation: "Model Poisoning: Angreifer manipulieren Trainingsdaten, um das ML-Modell zu kompromittieren.",
                     category: "tech"
                 },
                 {
                     question: "üîç CODE ANALYSIS: Welches SAST-Tool findet Security-Vulnerabilities im Source Code?",
                     answers: [
                         "Nur manuelle Code-Reviews",
                         "Static Application Security Testing (SAST) Tools",
                         "Performance-Monitoring",
                         "Unit-Tests"
                     ],
                     correct: 1,
                     explanation: "SAST-Tools analysieren Source Code automatisch auf Security-Schwachstellen vor der Ausf√ºhrung.",
                     category: "tech"
                 },
                 {
                     question: "üéØ RISIKOFRAGE: Critical Security Incident detected - was ist der erste Schritt?",
                     answers: [
                         "System normal weiterlaufen lassen",
                         "Sofort Incident Response Plan aktivieren & isolieren",
                         "Erstmal Team-Meeting einberufen",
                         "Abwarten bis zur n√§chsten Schicht"
                     ],
                     correct: 1,
                     explanation: "Critical: Sofortige Isolierung des betroffenen Systems und Incident Response Plan aktivieren - jede Sekunde z√§hlt!",
                     category: "incident"
                 },
                 {
                     question: "üß† TEAMFRAGE: Wie etabliert man eine DevSec-Kultur im Entwicklungsteam?",
                     answers: [
                         "Nur Security-Team ist verantwortlich",
                         "Security Champions + Shared Responsibility Culture",
                         "Externe Security-Firma beauftragen",
                         "Security erst nach Release"
                     ],
                     correct: 1,
                     explanation: "Security Champions schaffen eine Kultur der gemeinsamen Verantwortung - Security ist Teamsache!",
                     category: "team"
                 },
                 {
                     question: "üîí CONTAINER SECURITY: Was ist wichtig bei Kubernetes Security?",
                     answers: [
                         "Default-Konfiguration ist sicher genug",
                         "Pod Security Standards + Network Policies + RBAC",
                         "Nur den Cluster von au√üen absichern",
                         "Container sind automatisch sicher"
                     ],
                     correct: 1,
                     explanation: "K8s Security: Pod Security Standards, Network Policies und RBAC sind essentiell f√ºr Container-Sicherheit.",
                     category: "tech"
                 },
                 {
                     question: "üìä API SECURITY: Welcher Standard sch√ºtzt APIs vor Missbrauch?",
                     answers: [
                         "Keine besonderen Ma√ünahmen n√∂tig",
                         "OAuth 2.0 + Rate Limiting + Input Validation",
                         "Nur HTTPS reicht aus",
                         "API-Keys sind ausreichend"
                     ],
                     correct: 1,
                     explanation: "API Security: OAuth 2.0, Rate Limiting und Input Validation sind essentiell f√ºr sichere APIs.",
                     category: "tech"
                 },
                 {
                     question: "‚ö° CLOUD SECURITY: Was ist das Shared Responsibility Model?",
                     answers: [
                         "Cloud-Provider ist f√ºr alles verantwortlich",
                         "Geteilte Verantwortung: Provider (Infrastruktur) + Kunde (Daten/Apps)",
                         "Kunde ist f√ºr alles selbst verantwortlich",
                         "Nur bei Problemen wird Verantwortung gekl√§rt"
                     ],
                     correct: 1,
                     explanation: "Shared Responsibility: Cloud-Provider sichert Infrastruktur, Kunde sichert eigene Daten und Anwendungen.",
                     category: "tech"
                 },
                 {
                     question: "üõ°Ô∏è THREAT MODELING: Welche Methode hilft bei der Bedrohungsanalyse?",
                     answers: [
                         "Nur auf bekannte Angriffe reagieren",
                         "STRIDE Framework f√ºr systematische Threat Analysis",
                         "Security durch Obscurity",
                         "Ad-hoc Security-Ma√ünahmen"
                     ],
                     correct: 1,
                     explanation: "STRIDE Framework: Systematische Methode zur Identifikation von Spoofing, Tampering, Repudiation, Information Disclosure, Denial of Service, Elevation of Privilege.",
                     category: "tech"
                 }
             ];
             
             // Ersetze Demo-Fragen f√ºr Tech-Path
             window.demoQuestions = nuruTechQuestions;
             console.log("ü§ñ Nuru Tech Questions loaded: ", nuruTechQuestions.length, " questions");
         }

         function loadJoGamingQuestions() {
             // Jo's Gaming & Gen-Z spezifische Fragen
             const joGamingQuestions = [
                 {
                     question: "üéÆ GAMING ETHICS: Was ist wichtig bei Streaming & Content Creation?",
                     answers: [
                         "Alles f√ºr Views ist erlaubt",
                         "Copyright, Privacy & Community Guidelines beachten",
                         "Nur monet√§re Aspekte z√§hlen", 
                         "Authentizit√§t ist unwichtig"
                     ],
                     correct: 1,
                     explanation: "Content Creation braucht ethische Guidelines: Copyright, Datenschutz und Community-Standards sind essential!",
                     category: "gaming"
                 },
                 {
                     question: "‚ö° SOCIAL MEDIA: Wie nutzt man LinkedIn als Gen-Z professionell?",
                     answers: [
                         "Nur private Posts teilen",
                         "Authentisch bleiben + professionelle Inhalte mixen",
                         "Komplett wie Instagram nutzen",
                         "Nur Corporate Content posten"
                     ],
                     correct: 1,
                     explanation: "LinkedIn-Success: Authentische Pers√∂nlichkeit + professionelle Insights = perfekte Mischung f√ºr Gen-Z!",
                     category: "azubi"
                 },
                 {
                     question: "üéì AZUBI-LIFE: Was ist der Key f√ºr Work-Life-Balance in der Ausbildung?",
                     answers: [
                         "24/7 nur lernen",
                         "Grenzen setzen + Pausen planen + Support suchen",
                         "Work-Life-Balance ist ein Mythos",
                         "Nur Freizeit ist wichtig"
                     ],
                     correct: 1,
                     explanation: "Azubi-Hack: Klare Grenzen + geplante Erholung + Hilfe holen = sustainable success!",
                     category: "azubi"
                 },
                 {
                     question: "üî• DIGITAL NATIVES: Welche Skills sind Future-Proof f√ºr Gen-Z?",
                     answers: [
                         "Nur technische Hard Skills",
                         "Tech Skills + Emotional Intelligence + Adaptability",
                         "Nur Gaming-Skills",
                         "Traditional Skills reichen"
                     ],
                     correct: 1,
                     explanation: "Future-Ready: Tech-Kompetenz + EQ + Anpassungsf√§higkeit = unschlagbare Kombo f√ºr die Arbeitswelt 4.0!",
                     category: "azubi"
                 },
                 {
                     question: "üéØ RISIKOFRAGE: Cybermobbing am Arbeitsplatz - was tun?",
                     answers: [
                         "Ignorieren und hoffen",
                         "Dokumentieren, melden, Unterst√ºtzung suchen",
                         "Zur√ºck mobben",
                         "Job sofort k√ºndigen"
                     ],
                     correct: 1,
                     explanation: "Anti-Mobbing-Strategie: Screenshots machen, HR informieren, Support-Netzwerk aktivieren - du bist nicht allein!",
                     category: "incident"
                 },
                 {
                     question: "üß† TEAMFRAGE: Wie baut man als Gen-Z Vertrauen im Team auf?",
                     answers: [
                         "Nur digital kommunizieren",
                         "Authentisch sein + aktiv zuh√∂ren + Generationen-Bridge bauen",
                         "Alters-Unterschiede ignorieren",
                         "Nur mit Gleichaltrigen arbeiten"
                     ],
                     correct: 1,
                     explanation: "Gen-Z Team-Power: Echte Pers√∂nlichkeit zeigen + verschiedene Perspektiven wertsch√§tzen = mega Teamwork!",
                     category: "team"
                 },
                 {
                     question: "üì± DIGITAL WELLBEING: Wie vermeidet man Social Media Burnout?",
                     answers: [
                         "Komplett offline gehen",
                         "Screen Time limits + bewusste Pausen + echte Connections",
                         "Noch mehr Content konsumieren",
                         "Social Media ist harmlos"
                     ],
                     correct: 1,
                     explanation: "Digital Detox: Grenzen setzen + offline activities + real-life friends = healthy digital lifestyle!",
                     category: "gaming"
                 },
                 {
                     question: "üöÄ CAREER HACKING: Was ist der beste Networking-Approach f√ºr Gen-Z?",
                     answers: [
                         "Nur online networken",
                         "Online + Offline Events + authentische Connections",
                         "Networking ist √ºberbewertet",
                         "Nur mit dem Chef reden"
                     ],
                     correct: 1,
                     explanation: "Networking-Game: Digital presence + face-to-face events + genuine relationships = career growth unlocked!",
                     category: "azubi"
                 },
                 {
                     question: "üéÆ ESPORTS BUSINESS: Was braucht man f√ºr professionelles Gaming?",
                     answers: [
                         "Nur Gaming-Skills",
                         "Gaming Skills + Business Knowledge + Mental Health Care",
                         "Nur Sponsoren finden",
                         "Gaming ist kein echter Job"
                     ],
                     correct: 1,
                     explanation: "Esports-Pro: Top Gaming + Business-Verst√§ndnis + Mental Health = sustainable gaming career!",
                     category: "gaming"
                 },
                 {
                     question: "üíØ AUTHENTICITY: Wie bleibt man in Corporate Culture authentisch?",
                     answers: [
                         "Pers√∂nlichkeit komplett verstecken",
                         "Werte leben + respektvolle Kommunikation + echte Connections",
                         "Alles fake bis zum Erfolg",
                         "Nur anpassen, nie authentic sein"
                     ],
                     correct: 1,
                     explanation: "Authenticity-Hack: True self + professional communication + value alignment = sustainable success!",
                     category: "azubi"
                 }
             ];
             
             // Ersetze Demo-Fragen f√ºr Jo Gaming/Azubi Path
             window.demoQuestions = joGamingQuestions;
             console.log("üéÆ Jo Gaming Questions loaded: ", joGamingQuestions.length, " questions");
         }

         function loadFaridaDiversityQuestions() {
             // Farida's Diversity & Inclusion spezifische Fragen
             const faridaDiversityQuestions = [
                 {
                     question: "üåà DIVERSITY: Was ist der erste Schritt f√ºr echte Inklusion am Arbeitsplatz?",
                     answers: [
                         "Quotenregelungen einf√ºhren",
                         "Unconscious Bias erkennen und reflektieren",
                         "Verschiedene Kulturen ignorieren", 
                         "Nur oberfl√§chliche Diversity-Events"
                     ],
                     correct: 1,
                     explanation: "Echte Inklusion beginnt mit der Selbstreflexion √ºber unbewusste Vorurteile - nur so k√∂nnen wir wirklich offen und respektvoll werden.",
                     category: "diversity"
                 },
                 {
                     question: "ü§ù INCLUSION: Wie geht man mit Mikroaggressionen im Team um?",
                     answers: [
                         "Ignorieren und hoffen, dass es aufh√∂rt",
                         "Respektvoll ansprechen und Verst√§ndnis schaffen",
                         "Sofort eskalieren und beschuldigen",
                         "Nur im privaten Gespr√§ch erw√§hnen"
                     ],
                     correct: 1,
                     explanation: "Mikroaggressionen brauchen respektvolle, aber klare Ansprache - oft entstehen sie aus Unwissen und k√∂nnen durch Dialog gel√∂st werden.",
                     category: "inclusion"
                 },
                 {
                     question: "üåç CULTURAL SENSITIVITY: Wie unterst√ºtzt man Kollegen mit verschiedenen religi√∂sen Bed√ºrfnissen?",
                     answers: [
                         "Religion geh√∂rt nicht ins B√ºro",
                         "Flexible Pausenzeiten und R√ºckzugsm√∂glichkeiten anbieten",
                         "Alle m√ºssen sich gleich verhalten",
                         "Nur Kompromisse von religi√∂sen Menschen erwarten"
                     ],
                     correct: 1,
                     explanation: "Religi√∂se Inklusion bedeutet praktische Unterst√ºtzung: flexible Gebetszeiten, R√ºckzugsm√∂glichkeiten und respektvolle R√ºcksichtnahme auf Bed√ºrfnisse.",
                     category: "cultural"
                 },
                 {
                     question: "üè• KULTURSENSIBLE MEDIZIN: Was ist bei Patienten mit Sprachbarrieren wichtig?",
                     answers: [
                         "Lauter sprechen hilft immer",
                         "Professionelle Dolmetscher und kulturelle Sensibilit√§t",
                         "Familie soll √ºbersetzen",
                         "Nur Basics vermitteln"
                     ],
                     correct: 1,
                     explanation: "Professionelle Dolmetscher gew√§hrleisten Genauigkeit und Vertraulichkeit - Familie zu √ºbersetzen kann zu Missverst√§ndnissen f√ºhren.",
                     category: "cultural"
                 },
                 {
                     question: "üéØ RISIKOFRAGE: Diskriminierung im Team beobachtet - was tun?",
                     answers: [
                         "Wegschauen und nichts sagen",
                         "Sofort eingreifen, dokumentieren und HR informieren",
                         "Nur den Betroffenen ansprechen",
                         "Abwarten ob es wieder passiert"
                     ],
                     correct: 1,
                     explanation: "Bei Diskriminierung ist sofortiges Handeln gefragt: Situation beenden, dokumentieren und professionelle Hilfe aktivieren - Schweigen unterst√ºtzt Diskriminierung.",
                     category: "incident"
                 },
                 {
                     question: "üß† TEAMFRAGE: Wie schafft man ein inklusives Teamklima?",
                     answers: [
                         "Alle gleich behandeln",
                         "Verschiedene Perspektiven aktiv einbeziehen und wertsch√§tzen",
                         "Unterschiede nicht ansprechen",
                         "Nur Mehrheitsmeinungen gelten"
                     ],
                     correct: 1,
                     explanation: "Inklusive Teams entstehen durch aktive Wertsch√§tzung der Vielfalt - verschiedene Stimmen st√§rken Kreativit√§t und Probleml√∂sungskompetenz.",
                     category: "team"
                 },
                 {
                     question: "üë©‚Äçüë©‚Äçüëß‚Äçüë¶ FAMILY STRUCTURES: Wie respektiert man verschiedene Familienmodelle?",
                     answers: [
                         "Nur traditionelle Familien anerkennen",
                         "Alle Familienformen gleichberechtigt unterst√ºtzen",
                         "Unterschiede nicht thematisieren",
                         "Standard-Modell f√ºr alle anwenden"
                     ],
                     correct: 1,
                     explanation: "Moderne Arbeitswelt respektiert alle Familienformen: alleinerziehend, LGBTQ+, multikulturell - flexible Unterst√ºtzung f√ºr alle!",
                     category: "inclusion"
                 },
                 {
                     question: "üó£Ô∏è KOMMUNIKATION: Wie kommuniziert man inklusiv in internationalen Teams?",
                     answers: [
                         "Nur die Muttersprache verwenden",
                         "Einfache Sprache, kulturelle Kontexte erkl√§ren",
                         "Schnell sprechen spart Zeit",
                         "Idiome und lokale Redewendungen verwenden"
                     ],
                     correct: 1,
                     explanation: "Inklusive Kommunikation ist klar, kontextreich und ber√ºcksichtigt verschiedene Sprachniveaus - Verst√§ndnis steht vor Geschwindigkeit.",
                     category: "cultural"
                 },
                 {
                     question: "‚ôø ACCESSIBILITY: Was geh√∂rt zu barrierefreier Arbeitsplatzgestaltung?",
                     answers: [
                         "Nur Rollstuhlrampen",
                         "Physische + digitale + kommunikative Barrierefreiheit",
                         "Mindestanforderungen erf√ºllen",
                         "Betroffene sollen sich anpassen"
                     ],
                     correct: 1,
                     explanation: "Echte Accessibility umfasst alle Bereiche: Mobilit√§t, Sehen, H√∂ren, Lernen - universelles Design hilft allen Menschen!",
                     category: "inclusion"
                 },
                 {
                     question: "üíù EMPATHY LEADERSHIP: Wie f√ºhrt man diverse Teams erfolgreich?",
                     answers: [
                         "Alle gleich behandeln ohne Unterschiede",
                         "Individuelle St√§rken erkennen und verschiedene F√ºhrungsstile einsetzen",
                         "Standardmethoden f√ºr alle",
                         "Nur auf Business-Ergebnisse fokussieren"
                     ],
                     correct: 1,
                     explanation: "Empathetic Leadership erkennt individuelle Bed√ºrfnisse und St√§rken - verschiedene Menschen brauchen verschiedene Unterst√ºtzung f√ºr H√∂chstleistung!",
                     category: "diversity"
                 }
             ];
             
             // Ersetze Demo-Fragen f√ºr Farida D&I Path
             window.demoQuestions = faridaDiversityQuestions;
             console.log("üåç Farida Diversity Questions loaded: ", faridaDiversityQuestions.length, " questions");
         }

         function activateAmaraInspiration() {
             const avatarFace = document.getElementById('avatar-companion').querySelector('.avatar-face');
             const avatarBubble = document.getElementById('avatar-bubble');
             
             avatarFace.textContent = 'üë©üèø‚Äçüéì';
             avatarBubble.textContent = 'Amara hier! Inspiration & Growth Mode activated! üåü‚ú®';
             
             // Amara's Inspiration & Personal Development Nachrichten
             const amaraInspirationMessages = [
                 "Du w√§chst √ºber dich hinaus! üå±",
                 "Jeder Schritt macht dich st√§rker! üí™",
                 "Dein Potential ist grenzenlos! ‚≠ê",
                 "Inspiration entsteht durch Handeln! üöÄ",
                 "Reflektion f√ºhrt zur Transformation! ü¶ã",
                 "Deine Reise ist einzigartig! üó∫Ô∏è",
                 "Lernen ist Selbstentwicklung! üìö",
                 "Du bist dein eigener Mentor! üåü"
             ];
             
             let messageIndex = 0;
             setInterval(() => {
                 avatarBubble.textContent = amaraInspirationMessages[messageIndex % amaraInspirationMessages.length];
                 messageIndex++;
             }, 4200);
             
             window.currentAvatar = 'amara';
         }

         function activateAmaraLeadership() {
             const avatarFace = document.getElementById('avatar-companion').querySelector('.avatar-face');
             const avatarBubble = document.getElementById('avatar-bubble');
             
             avatarFace.textContent = 'üë©üèø‚Äçüíº';
             avatarBubble.textContent = 'Amara online! Authentic Leadership activated! üëëüåü';
             
             // Amara's Leadership & Personal Growth Nachrichten
             const amaraLeadershipMessages = [
                 "F√ºhre mit Herz und Verstand! ‚ù§Ô∏èüß†",
                 "Authentizit√§t ist deine Superkraft! üí´",
                 "Inspire others by being yourself! ‚ú®",
                 "Leadership beginnt bei Selbstf√ºhrung! üéØ",
                 "Empowerment multipliziert Erfolg! üî•",
                 "Visionen werden durch Taten real! üåà",
                 "Deine Stimme macht den Unterschied! üì¢"
             ];
             
             let messageIndex = 0;
             setInterval(() => {
                 avatarBubble.textContent = amaraLeadershipMessages[messageIndex % amaraLeadershipMessages.length];
                 messageIndex++;
             }, 4700);
             
             window.currentAvatar = 'amara';
         }

         function loadAyaAnalyticsQuestions() {
             // Aya's Analytics & Business Intelligence spezifische Fragen
             const ayaAnalyticsQuestions = [
                 {
                     question: "üìä BUSINESS ANALYTICS: Was ist der erste Schritt bei einer datengetriebenen Analyse?",
                     answers: [
                         "Sofort mit Visualisierung beginnen",
                         "Problem definieren und relevante KPIs identifizieren",
                         "Alle verf√ºgbaren Daten sammeln", 
                         "Dashboard erstellen"
                     ],
                     correct: 1,
                     explanation: "Erfolgreiche Analytics beginnt mit klarer Problemdefinition und relevanten KPIs - ohne Fokus f√ºhren Daten ins Chaos.",
                     category: "analytics"
                 },
                 {
                     question: "üéØ KPI MANAGEMENT: Welche Eigenschaft macht einen KPI wertvoll?",
                     answers: [
                         "M√∂glichst viele Dimensionen",
                         "SMART: Specific, Measurable, Achievable, Relevant, Timely",
                         "Komplexe Berechnungslogik",
                         "T√§gliche Aktualisierung"
                     ],
                     correct: 1,
                     explanation: "SMART-KPIs sind spezifisch, messbar, erreichbar, relevant und zeitgebunden - nur so werden sie handlungsrelevant.",
                     category: "business"
                 },
                 {
                     question: "‚öôÔ∏è PROCESS OPTIMIZATION: Was ist das Kern-Prinzip von Lean Management?",
                     answers: [
                         "Mehr Automatisierung einf√ºhren",
                         "Verschwendung eliminieren und Wertstrom optimieren",
                         "Schneller arbeiten",
                         "Mehr Kontrollen einbauen"
                     ],
                     correct: 1,
                     explanation: "Lean Management fokussiert auf Verschwendungselimination (Muda) und Wertstromoptimierung - alles was keinen Wert schafft wird entfernt.",
                     category: "process"
                 },
                 {
                     question: "üìà DATA VISUALIZATION: Welches Diagramm eignet sich f√ºr Trend-Analyse √ºber Zeit?",
                     answers: [
                         "Kreisdiagramm (Pie Chart)",
                         "Liniendiagramm mit Zeitachse",
                         "Balkendiagramm",
                         "Scatter Plot"
                     ],
                     correct: 1,
                     explanation: "Liniendiagramme mit Zeitachse zeigen Trends, Entwicklungen und Muster √ºber Zeitr√§ume am besten - ideal f√ºr Performance-Tracking.",
                     category: "analytics"
                 },
                 {
                     question: "üéØ RISIKOFRAGE: Dashboard zeigt kritische KPI-Abweichung - sofortige Aktion?",
                     answers: [
                         "Bis zum n√§chsten Meeting warten",
                         "Root Cause Analysis starten und Stakeholder informieren",
                         "KPI-Definition anpassen",
                         "Ignorieren wenn es nur einmal auftritt"
                     ],
                     correct: 1,
                     explanation: "Kritische KPI-Abweichungen erfordern sofortige Root Cause Analysis und Stakeholder-Information - Zeit ist bei Business-Critical-Issues entscheidend.",
                     category: "incident"
                 },
                 {
                     question: "üß† TEAMFRAGE: Wie implementiert man erfolgreich datengetriebene Entscheidungen im Team?",
                     answers: [
                         "Nur Daten-Experten entscheiden lassen",
                         "Data Literacy f√∂rdern und gemeinsame Datensprache entwickeln",
                         "Komplexe Dashboards f√ºr alle",
                         "Bauchgef√ºhl bleibt wichtiger"
                     ],
                     correct: 1,
                     explanation: "Erfolgreiche Data-driven Culture braucht Data Literacy im ganzen Team - gemeinsame Datensprache macht alle zu besseren Entscheidern.",
                     category: "team"
                 },
                 {
                     question: "üîç SIX SIGMA: Was bedeutet der Six Sigma Standard statistisch?",
                     answers: [
                         "60% Qualit√§t erreichen",
                         "99,99966% Fehlerfreiheit (3,4 Defekte pro Million)",
                         "6 Verbesserungsschritte durchf√ºhren",
                         "6-mal messen vor Entscheidung"
                     ],
                     correct: 1,
                     explanation: "Six Sigma entspricht 99,99966% Fehlerfreiheit bzw. max. 3,4 Defekte pro Million M√∂glichkeiten - statistischer Qualit√§tsstandard.",
                     category: "process"
                 },
                 {
                     question: "üìä BUSINESS INTELLIGENCE: Was ist der Unterschied zwischen Reporting und Analytics?",
                     answers: [
                         "Kein Unterschied - beides ist gleich",
                         "Reporting zeigt WAS passiert ist, Analytics erkl√§rt WARUM",
                         "Reporting ist komplexer als Analytics",
                         "Analytics braucht keine Daten"
                     ],
                     correct: 1,
                     explanation: "Reporting dokumentiert WAS passiert ist (deskriptiv), Analytics erkl√§rt WARUM es passiert ist (diagnostisch/pr√§diktiv).",
                     category: "business"
                 },
                 {
                     question: "üîÑ CONTINUOUS IMPROVEMENT: Welcher PDCA-Cycle Schritt wird oft vernachl√§ssigt?",
                     answers: [
                         "Plan - Planung",
                         "Act - Standardisierung und Verankerung",
                         "Do - Durchf√ºhrung",
                         "Check - √úberpr√ºfung"
                     ],
                     correct: 1,
                     explanation: "ACT (Standardize) wird oft vernachl√§ssigt - ohne Verankerung der Verbesserungen fallen Prozesse in alte Muster zur√ºck.",
                     category: "process"
                 },
                 {
                     question: "üéØ PERFORMANCE MEASUREMENT: Was macht ein effektives Balanced Scorecard System aus?",
                     answers: [
                         "Nur finanzielle Kennzahlen verwenden",
                         "4 Perspektiven: Finanzen, Kunde, Prozesse, Lernen & Entwicklung",
                         "M√∂glichst viele KPIs sammeln",
                         "Nur operative Metriken"
                     ],
                     correct: 1,
                     explanation: "Balanced Scorecard balanciert 4 Perspektiven: Finanzielle, Kunden-, Prozess- und Lern-/Entwicklungsperspektive f√ºr ganzheitliche Performance.",
                     category: "business"
                 }
             ];
             
             // Ersetze Demo-Fragen f√ºr Aya Analytics Path
             window.demoQuestions = ayaAnalyticsQuestions;
             console.log("üìä Aya Analytics Questions loaded: ", ayaAnalyticsQuestions.length, " questions");
         }

         function activateLeoSports() {
             const avatarFace = document.getElementById('avatar-companion').querySelector('.avatar-face');
             const avatarBubble = document.getElementById('avatar-bubble');
             
             avatarFace.textContent = 'üèÉ‚Äç‚ôÇÔ∏è';
             avatarBubble.textContent = 'Leo hier! Sports & Motivation Mode activated! üèÜ‚ö°';
             
             // Leo's Sports & Team Performance Nachrichten
             const leoSportsMessages = [
                 "Teamwork makes the dream work! üèÜ",
                 "Champions trainieren auch bei Regen! ‚ö°",
                 "Performance kommt von Passion! üî•",
                 "Gemeinsam sind wir st√§rker! üí™",
                 "Energy flows where focus goes! ‚öΩ",
                 "No pain, no gain - no limits! üöÄ",
                 "Excellence is a habit, not an act! ü•á",
                 "Team spirit wins championships! üéØ"
             ];
             
             let messageIndex = 0;
             setInterval(() => {
                 avatarBubble.textContent = leoSportsMessages[messageIndex % leoSportsMessages.length];
                 messageIndex++;
             }, 3800);
             
             window.currentAvatar = 'leo';
         }

         function activateLeoMotivation() {
             const avatarFace = document.getElementById('avatar-companion').querySelector('.avatar-face');
             const avatarBubble = document.getElementById('avatar-bubble');
             
             avatarFace.textContent = 'üí™';
             avatarBubble.textContent = 'Leo online! Peak Performance activated! üî•üèÜ';
             
             // Leo's Motivation & Performance Coaching Nachrichten
             const leoMotivationMessages = [
                 "Du hast das Zeug zum Champion! üèÜ",
                 "Mindset is everything! üß†‚ö°",
                 "Limits exist only in your mind! üöÄ",
                 "Sweat today, shine tomorrow! üíé",
                 "Winners never quit, quitters never win! ü•á",
                 "Your only competition is yourself! üéØ",
                 "Mental toughness beats talent! üí™"
             ];
             
             let messageIndex = 0;
             setInterval(() => {
                 avatarBubble.textContent = leoMotivationMessages[messageIndex % leoMotivationMessages.length];
                 messageIndex++;
             }, 4100);
             
             window.currentAvatar = 'leo';
         }

         function activateMinaHealthcare() {
             const avatarFace = document.getElementById('avatar-companion').querySelector('.avatar-face');
             const avatarBubble = document.getElementById('avatar-bubble');
             
             avatarFace.textContent = 'üë©‚Äç‚öïÔ∏è';
             avatarBubble.textContent = 'Mina hier! Healthcare & Care Mode activated! üè•üíù';
             
             // Mina's Healthcare & Patient Care Nachrichten
             const minaHealthcareMessages = [
                 "Mit Geduld und F√ºrsorge heilen! üè•",
                 "Jeder Patient verdient Aufmerksamkeit! üíù",
                 "Empathie ist die beste Medizin! ü§ó",
                 "Sorgfalt rettet Leben! ‚öïÔ∏è",
                 "Zeit nehmen, Leben verbessern! ‚è∞",
                 "Pr√§zision durch Konzentration! üîç",
                 "Caring hands, healing hearts! üíñ"
             ];
             
             let messageIndex = 0;
             setInterval(() => {
                 avatarBubble.textContent = minaHealthcareMessages[messageIndex % minaHealthcareMessages.length];
                 messageIndex++;
             }, 4300);
             
             window.currentAvatar = 'mina';
         }

         function activateMalikEthics() {
             const avatarFace = document.getElementById('avatar-companion').querySelector('.avatar-face');
             const avatarBubble = document.getElementById('avatar-bubble');
             
             avatarFace.textContent = 'ü§ù';
             avatarBubble.textContent = 'Malik online! Trust & Ethics Mode activated! ‚öñÔ∏èüõ°Ô∏è';
             
             // Malik's Trust & Ethics Nachrichten
             const malikEthicsMessages = [
                 "Integrit√§t ist nicht verhandelbar! ‚öñÔ∏è",
                 "Trust is earned, respect is given! ü§ù",
                 "Ehrlichkeit baut Vertrauen auf! üõ°Ô∏è",
                 "Ethik ist unser Kompass! üß≠",
                 "Verl√§sslichkeit schafft Erfolg! üìã",
                 "Transparency builds trust! üíé",
                 "Character over convenience! üéØ"
             ];
             
             let messageIndex = 0;
             setInterval(() => {
                 avatarBubble.textContent = malikEthicsMessages[messageIndex % malikEthicsMessages.length];
                 messageIndex++;
             }, 4500);
             
             window.currentAvatar = 'malik';
         }

         function loadAmaraInspirationQuestions() {
             // Amara's Personal Development & Inspiration spezifische Fragen
             const amaraInspirationQuestions = [
                 {
                     question: "üåü PERSONAL GROWTH: Was ist der wichtigste erste Schritt zur pers√∂nlichen Entwicklung?",
                     answers: [
                         "Sofort neue Gewohnheiten einf√ºhren",
                         "Selbstreflexion und Ist-Zustand ehrlich analysieren",
                         "Viele B√ºcher √ºber Erfolg lesen", 
                         "Andere um Rat fragen"
                     ],
                     correct: 1,
                     explanation: "Authentische Entwicklung beginnt mit ehrlicher Selbstreflexion - nur wer wei√ü wo er steht, kann gezielt wachsen.",
                     category: "development"
                 },
                 {
                     question: "üí´ GROWTH MINDSET: Was charakterisiert eine Wachstumsmentalit√§t nach Carol Dweck?",
                     answers: [
                         "Talent ist alles - man hat es oder nicht",
                         "Herausforderungen vermeiden, um Fehler zu verhindern",
                         "F√§higkeiten k√∂nnen durch Anstrengung und Lernen entwickelt werden",
                         "Nur auf bestehende St√§rken fokussieren"
                     ],
                     correct: 2,
                     explanation: "Growth Mindset bedeutet: F√§higkeiten sind entwickelbar durch Anstrengung, Lernen und Beharrlichkeit - Talent ist nur der Startpunkt.",
                     category: "inspiration"
                 },
                 {
                     question: "üëë AUTHENTIC LEADERSHIP: Was macht authentische F√ºhrung aus?",
                     answers: [
                         "Immer stark und unfehlbar erscheinen",
                         "Werte leben, transparent sein und sich selbst treu bleiben",
                         "Alle Entscheidungen alleine treffen",
                         "Niemals Schw√§che zeigen"
                     ],
                     correct: 1,
                     explanation: "Authentische F√ºhrung hei√üt: eigene Werte leben, transparent kommunizieren und sich selbst treu bleiben - Verletzlichkeit zeigt St√§rke.",
                     category: "leadership"
                 },
                 {
                     question: "ü¶ã TRANSFORMATION: Was ist das Kernprinzip erfolgreicher Ver√§nderung?",
                     answers: [
                         "Radikale Ver√§nderung √ºber Nacht",
                         "Kleine, konsistente Schritte in die richtige Richtung",
                         "Warten auf perfekte Bedingungen",
                         "Ver√§nderung anderen √ºberlassen"
                     ],
                     correct: 1,
                     explanation: "Echte Transformation passiert durch kleine, konsistente Schritte - nachhaltiger Wandel braucht Zeit und Geduld mit sich selbst.",
                     category: "development"
                 },
                 {
                     question: "üéØ RISIKOFRAGE: Team-Mitglied verliert Motivation - wie inspirierst du authentisch?",
                     answers: [
                         "Standardisierte Motivationsrede halten",
                         "Individuell zuh√∂ren, verstehen und gemeinsam Sinn finden",
                         "Druck erh√∂hen f√ºr bessere Performance",
                         "Problem ignorieren, es l√∂st sich von selbst"
                     ],
                     correct: 1,
                     explanation: "Authentische Inspiration entsteht durch echtes Zuh√∂ren, Verstehen und gemeinsames Finden von Sinn - jeder Mensch ist einzigartig.",
                     category: "incident"
                 },
                 {
                     question: "üå± TEAMFRAGE: Wie schaffst du eine Kultur des Wachstums im Team?",
                     answers: [
                         "Fehler bestrafen f√ºr h√∂here Qualit√§t",
                         "Psychological Safety schaffen und Lernen aus Fehlern f√∂rdern",
                         "Nur Top-Performer f√∂rdern",
                         "Konkurrenz zwischen Teammitgliedern anheizen"
                     ],
                     correct: 1,
                     explanation: "Wachstumskultur braucht Psychological Safety - Menschen wachsen, wenn sie Fehler als Lernchancen sehen d√ºrfen.",
                     category: "team"
                 },
                 {
                     question: "üí™ RESILIENCE: Was hilft am meisten beim Umgang mit R√ºckschl√§gen?",
                     answers: [
                         "R√ºckschl√§ge vermeiden durch perfekte Planung",
                         "Reframing: R√ºckschl√§ge als Wachstumschancen sehen",
                         "Schnell vergessen und weitermachen",
                         "Sich selbst die Schuld geben"
                     ],
                     correct: 1,
                     explanation: "Resilienza entsteht durch Reframing - R√ºckschl√§ge werden zu wertvollen Lernm√∂glichkeiten f√ºr pers√∂nliches Wachstum.",
                     category: "development"
                 },
                 {
                     question: "üåü EMPOWERMENT: Wie empowerst du andere Menschen nachhaltig?",
                     answers: [
                         "Alle Probleme f√ºr sie l√∂sen",
                         "Vertrauen schenken, St√§rken erkennen und Potentiale spiegeln",
                         "St√§ndig Ratschl√§ge geben",
                         "Hohe Erwartungen ohne Unterst√ºtzung"
                     ],
                     correct: 1,
                     explanation: "Echtes Empowerment bedeutet: Vertrauen schenken, St√§rken erkennen und Menschen dabei helfen, ihr eigenes Potential zu entdecken.",
                     category: "leadership"
                 },
                 {
                     question: "üöÄ VISION & PURPOSE: Was macht eine inspirierende Vision aus?",
                     answers: [
                         "M√∂glichst gro√üe und unrealistische Ziele",
                         "Pers√∂nliche Werte + positiver Impact + erreichbare Schritte",
                         "Kopieren erfolgreicher Vorbilder",
                         "Nur auf finanzielle Ziele fokussieren"
                     ],
                     correct: 1,
                     explanation: "Inspirierende Visionen verbinden pers√∂nliche Werte mit positivem Impact und zeigen konkrete, erreichbare Schritte auf.",
                     category: "inspiration"
                 },
                 {
                     question: "‚ú® SELF-LEADERSHIP: Was ist der Grundstein f√ºr erfolgreiche Selbstf√ºhrung?",
                     answers: [
                         "Perfecte Selbstkontrolle in allen Bereichen",
                         "Selbstbewusstsein, Selbstreflexion und Selbstmitgef√ºhl",
                         "Niemals nein sagen k√∂nnen",
                         "Immer produktiv und optimiert sein"
                     ],
                     correct: 1,
                     explanation: "Self-Leadership baut auf Selbstbewusstsein, Selbstreflexion und Selbstmitgef√ºhl - authentische St√§rke kommt von innen.",
                     category: "leadership"
                 }
             ];
             
             // Ersetze Demo-Fragen f√ºr Amara Inspiration Path
             window.demoQuestions = amaraInspirationQuestions;
             console.log("üåü Amara Inspiration Questions loaded: ", amaraInspirationQuestions.length, " questions");
         }

        // ===================================================
        // üéÆ SCREEN NAVIGATION
        // ===================================================

        function showScreen(screenName) {
            // Hide all screens
            document.getElementById('login-screen').style.display = 'none';
            document.getElementById('path-menu').style.display = 'none';
            document.getElementById('quiz-screen').style.display = 'none';
            document.getElementById('minigame-selection').style.display = 'none';
            document.getElementById('minigame-active').style.display = 'none';
            
            // Show selected screen
            document.getElementById(screenName).style.display = 'block';
            currentScreen = screenName;
        }

        function backToPathMenu() {
            resetQuiz();
            showScreen('path-menu');
        }

        function resetAll() {
            // Reset quiz
            resetQuiz();
            
            // Reset minigame
            currentMinigame = null;
            minigameScore = 0;
            
            // Clear timers
            if (minigameTimer) clearInterval(minigameTimer);
            
            // Hide modals
            document.getElementById('results-modal').style.display = 'none';
        }

        function resetQuiz() {
            currentQuestionIndex = 0;
            quizScore = 0;
            selectedAnswer = null;
            correctAnswers = 0;
            if (quizTimer) clearInterval(quizTimer);
        }

        // ===================================================
        // üéØ QUIZ LOGIC (updated to return to path menu)
        // ===================================================

        function startQuizDemo() {
            resetQuiz();
            showScreen('quiz-screen');
            loadQuestion();
        }

                 function loadQuestion() {
             if (currentQuestionIndex >= totalQuestions) {
                 completeQuiz();
                 return;
             }

             const question = demoQuestions[currentQuestionIndex];
             const questionNumber = currentQuestionIndex + 1;
             
             // Spezielle Frage-Typen
             let questionDisplay = question.question;
             if (questionNumber === 5) {
                 questionDisplay = "üéØ RISIKOFRAGE: " + question.question;
                 document.getElementById('avatar-bubble').textContent = '‚ö†Ô∏è Achtung! Risikofrage - bei Fehler Neustart!';
             } else if (questionNumber === 4) {
                 // Simuliere Teamfrage (normalerweise Frage 9, aber wir haben nur 5 Fragen)
                 questionDisplay = "üß† TEAMFRAGE: " + question.question;
                 document.getElementById('avatar-bubble').textContent = 'üë• Teamfrage! Bei Erfolg: Squad Sync Badge!';
             }
             
             document.getElementById('question-text').textContent = questionDisplay;
             document.getElementById('question-number').textContent = questionNumber;
             document.getElementById('quiz-score').textContent = quizScore;
             
             // Load answers
             const answersGrid = document.getElementById('answers-grid');
             answersGrid.innerHTML = '';
             
             question.answers.forEach((answer, index) => {
                 const button = document.createElement('button');
                 button.className = 'answer-button';
                 
                 // Risikofrage-Styling
                 if (questionNumber === 5) {
                     button.style.borderColor = '#ff6b6b';
                     button.style.backgroundColor = '#fff5f5';
                 }
                 
                 button.textContent = `${String.fromCharCode(65 + index)}) ${answer}`;
                 button.onclick = () => selectAnswer(index);
                 answersGrid.appendChild(button);
             });

             selectedAnswer = null;
             document.getElementById('next-question-btn').style.display = 'none';
             
             // Start timer
             timeLeft = 30;
             startQuizTimer();
         }

                 function startQuizTimer() {
             document.getElementById('quiz-timer').textContent = timeLeft;
             
             // Berufsspezifische Time-Lock Anpassungen
             const question = demoQuestions[currentQuestionIndex];
             let actualTimeLimit = timeLeft;
             
             if (question.category === 'healthcare' || question.category === 'production') {
                 actualTimeLimit = 25; // Kritische Bereiche: weniger Zeit
             } else if (question.category === 'legal') {
                 actualTimeLimit = 35; // Legal: mehr Bedenkzeit
             }
             
             timeLeft = actualTimeLimit;
             document.getElementById('quiz-timer').textContent = timeLeft;
             
             quizTimer = setInterval(() => {
                 timeLeft--;
                 document.getElementById('quiz-timer').textContent = timeLeft;
                 
                 // Time-Lock Warnung
                 if (timeLeft === 10) {
                     document.getElementById('avatar-bubble').textContent = '‚è∞ Noch 10 Sekunden!';
                 } else if (timeLeft === 5) {
                     document.getElementById('avatar-bubble').textContent = 'üö® Zeit l√§uft ab!';
                 }
                 
                 if (timeLeft <= 0) {
                     clearInterval(quizTimer);
                     if (selectedAnswer === null) {
                         // Time-Lock Reaktion
                         document.getElementById('avatar-bubble').textContent = '‚è±Ô∏è Zeit abgelaufen! Wiederholung empfohlen.';
                         selectAnswer(-1); // Auto-select wrong answer on timeout
                     }
                 }
             }, 1000);
         }

        function selectAnswer(answerIndex) {
            if (selectedAnswer !== null) return;
            
            selectedAnswer = answerIndex;
            clearInterval(quizTimer);
            
            const question = demoQuestions[currentQuestionIndex];
            const buttons = document.querySelectorAll('.answer-button');
            
            // Highlight answers
            buttons.forEach((button, index) => {
                if (index === answerIndex && answerIndex !== -1) {
                    button.classList.add('selected');
                }
                if (index === question.correct) {
                    button.classList.add('correct');
                } else if (index === answerIndex && answerIndex !== question.correct) {
                    button.classList.add('incorrect');
                }
            });
            
                         // Update score
             const questionNumber = currentQuestionIndex + 1;
             const isRiskQuestion = (questionNumber === 5);
             const isTeamQuestion = (questionNumber === 4);
             
             if (answerIndex === question.correct) {
                 let basePoints = Math.max(10, timeLeft * 2);
                 
                 // Punktemultiplikatoren
                 if (isRiskQuestion) {
                     basePoints *= 2; // Doppelte Punkte bei Risikofrage
                 } else if (isTeamQuestion) {
                     basePoints *= 1.5; // 50% Bonus bei Teamfrage
                 }
                 
                 quizScore += basePoints;
                 correctAnswers++;
                 
                 // Gamification: XP vergeben
                 updateGamificationStats(basePoints, null);
                 
                 // Spezielle Badge-Vergabe
                 if (isTeamQuestion) {
                     earnBadge('ü§ù', 'Squad Sync');
                 }
                 
                 // Avatar reagiert auf richtige Antwort (berufsspezifisch)
                 let avatarMessages = ["Richtig! üéâ", "Super! üëè", "Excellent! ‚≠ê", "Perfekt! üí™"];
                 
                 if (isRiskQuestion) {
                     avatarMessages = ["üéØ RISIKOFRAGE gemeistert! Respekt!", "‚ö° Perfekt unter Druck!", "üèÜ Risiko-Champion!"];
                 } else if (isTeamQuestion) {
                     avatarMessages = ["ü§ù TEAMFRAGE perfekt! Squad Sync Badge!", "üë• Teamwork macht stark!", "üèÜ Kollaborations-Profi!"];
                 } else if (question.category === 'healthcare') {
                     avatarMessages = ["üßº Hygiene-Profi! Richtig!", "ü©∫ Patientensicherheit first!", "‚ú® CleanRoom-Standard erf√ºllt!"];
                 } else if (question.category === 'tech') {
                     if (window.currentAvatar === 'nuru') {
                         avatarMessages = ["ü§ñ Security analysis: CORRECT! System validated!", "‚ö° Nuru approves this tech decision!", "üõ°Ô∏è Zero vulnerabilities in your logic!", "üíª AI confirms: Expert-level response!", "üîç Threat assessment: You passed the test!"];
                     } else {
                         avatarMessages = ["üîê Security-Guru! Korrekt!", "üíª DevSec approved!", "üõ°Ô∏è Sicherheit geht vor!"];
                     }
                 } else if (question.category === 'incident') {
                     if (window.currentAvatar === 'nuru') {
                         avatarMessages = ["üö® CRITICAL: Perfect incident response!", "‚ö° Emergency protocol executed flawlessly!", "üõ°Ô∏è System integrity maintained! Well done!"];
                     } else {
                         avatarMessages = ["üö® Incident Response perfekt!", "‚ö° Notfall gemeistert!", "üõ°Ô∏è Krisenmanagement-Profi!"];
                     }
                 } else if (question.category === 'legal') {
                     avatarMessages = ["‚öñÔ∏è Rechtlich korrekt!", "üìã DSGVO-konform!", "üõ°Ô∏è Compliance erf√ºllt!"];
                 } else if (question.category === 'resilience') {
                     avatarMessages = ["üí™ Resiliente Antwort!", "üß† Mental starke Wahl!", "‚ú® Selbstf√ºrsorge-Profi!"];
                 } else if (question.category === 'stress') {
                     avatarMessages = ["‚ö° Stress-Management perfekt!", "üßò Balance gefunden!", "üíÜ Entspannung aktiviert!"];
                 } else if (question.category === 'communication') {
                     avatarMessages = ["üó£Ô∏è Kommunikations-Ass!", "üí¨ Professionell gel√∂st!", "ü§ù Verst√§ndnis geschaffen!"];
                 } else if (question.category === 'burnout') {
                     avatarMessages = ["üö® Burnout-Pr√§ventions-Profi!", "üõ°Ô∏è Fr√ºhwarnung erkannt!", "üí™ Schutzfaktor aktiviert!"];
                 } else if (question.category === 'gaming') {
                     avatarMessages = ["üéÆ Gaming-Knowledge on point!", "‚ö° Level-up successful!", "üî• That was fire!"];
                 } else if (question.category === 'azubi') {
                     avatarMessages = ["üéì Azubi-Skills upgrading!", "üí™ Work-Life-Balance achieved!", "üìà Career-Boost incoming!"];
                 } else if (question.category === 'diversity') {
                     avatarMessages = ["üåà Diversity Champion!", "ü§ù Inklusion gelebt!", "üåç Kulturelle Kompetenz bewiesen!"];
                 } else if (question.category === 'inclusion') {
                     avatarMessages = ["‚úä Inclusion Expert!", "üíù Empathie in Aktion!", "üåü Respekt zeigt St√§rke!"];
                 } else if (question.category === 'cultural') {
                     avatarMessages = ["üåç Cultural Bridge Builder!", "ü§ù Interkulturelle Kompetenz!", "üåâ Br√ºcken verbinden!"];
                 } else if (question.category === 'analytics') {
                     avatarMessages = ["üìä Analytics Expert!", "üìà Datenbasiert entschieden!", "üéØ Systematisch gel√∂st!"];
                 } else if (question.category === 'process') {
                     avatarMessages = ["‚öôÔ∏è Process Optimizer!", "üîÑ Workflow verbessert!", "üìà Effizienz gesteigert!"];
                 } else if (question.category === 'business') {
                     avatarMessages = ["üíº Business Intelligence!", "üìä KPI-Management perfekt!", "üéØ Strategic thinking!"];
                 } else if (question.category === 'inspiration') {
                     avatarMessages = ["üåü Inspiration Master!", "üí´ Personal Growth!", "‚ú® Authentisch stark!"];
                 } else if (question.category === 'leadership') {
                     avatarMessages = ["üëë Leadership Excellence!", "üí™ Authentic Leader!", "üöÄ Visionary thinking!"];
                 } else if (question.category === 'development') {
                     avatarMessages = ["üìö Growth Mindset!", "ü¶ã Transformation!", "üå± Development Expert!"];
                 } else if (question.category === 'sports') {
                     avatarMessages = ["üèÜ Champions Performance!", "‚ö° Team Spirit!", "üí™ Peak Performance!"];
                 } else if (question.category === 'motivation') {
                     avatarMessages = ["üî• Motivation Expert!", "üöÄ Mental Toughness!", "ü•á Excellence Mindset!"];
                 } else if (question.category === 'healthcare') {
                     avatarMessages = ["üè• Healthcare Excellence!", "‚öïÔ∏è Caring Professional!", "üíù Patient Care Expert!"];
                 } else if (question.category === 'ethics') {
                     avatarMessages = ["‚öñÔ∏è Ethics Expert!", "ü§ù Trust Builder!", "üõ°Ô∏è Integrity Champion!"];
                 }

                 // Avatar-spezifische Antworten
                 if (window.currentAvatar) {
                     const avatarSpecificMessages = {
                         tariq: ["Clever gel√∂st ‚Äì du denkst mehrere Schritte voraus!", "Strategische Analyse perfekt!", "Weitblick zahlt sich aus!"],
                         zara: ["Ziel erreicht ‚Äì professionell umgesetzt!", "Das war eine exzellente Entscheidung!", "Leadership-Qualit√§ten erkannt!"],
                         amara: [
                             "Wundersch√∂n! Du w√§chst √ºber dich hinaus! üå±‚ú®",
                             "Inspiration wird Realit√§t - du schaffst Gro√üartiges! üåü", 
                             "Dein Potential entfaltet sich pr√§chtig! üí´",
                             "Authentisch gel√∂st - das ist echte St√§rke! üí™",
                             "Transformation sichtbar - du inspirierst! ü¶ã",
                             "Lernen ist deine Superpower! üìö‚≠ê",
                             "Deine Reise f√ºhrt zum Erfolg! üöÄ‚ú®"
                         ],
                         aya: [
                             "Logisch korrekt! Die Analyse stimmt! üìä",
                             "Strukturiert durchdacht - perfekte Systematik! üéØ", 
                             "Datenbasierte Entscheidung - genau richtig! üìà",
                             "Analytisches Denken auf h√∂chstem Niveau! üîç",
                             "Sehr gut analysiert - du erkennst die Logik! üß†",
                             "Prozess optimiert - Effizienz maximiert! ‚öôÔ∏è",
                             "KPI erreicht - systematischer Erfolg! ‚úÖ"
                         ],
                         farida: [
                             "Wundersch√∂n durchdacht - du verstehst die Zusammenh√§nge! üåü",
                             "Das zeigt echte Empathie und Verst√§ndnis! üíù", 
                             "Respektvoll und richtig entschieden! ü§ù",
                             "Deine offene Haltung f√ºhrt zum Erfolg! üåç",
                             "Gemeinsam wachsen wir weiter! üå±",
                             "Inklusive Denkweise - perfekt! üåà",
                             "Mit Herz und Verstand gel√∂st! ‚ú®"
                         ],
                         jo: [
                             "Yooo, sauber gecrackt! üî•", 
                             "Das war next-level thinking! üß†‚ö°", 
                             "Achievement unlocked - du rockst das! üèÜ",
                             "Clean gespielt - respekt! ‚úä",
                             "No cap - that hit different! üíØ",
                             "GG WP - well played! üéÆ",
                             "Main character energy! ‚≠ê"
                         ],
                         leo: [
                             "Champions performance! üèÜ‚ö° Du zeigst Teamgeist und Durchhalteverm√∂gen!",
                             "Peak performance erreicht! üí™üî• Mental toughness pays off!", 
                             "Excellence in action! ü•á Dein Mindset macht den Unterschied!",
                             "Winners never quit - und du beweist es! üöÄ Team spirit at its best!",
                             "Energy flows where focus goes! ‚öΩ Du hast den Champion-Mindset!",
                             "Beast mode activated! üéØ Performance level: professional!",
                             "Teamwork makes the dream work! üèÜ Du inspirierst andere!"
                         ],
                         malik: [
                             "Trust earned through competence! ü§ù‚öñÔ∏è Deine Verl√§sslichkeit zeigt sich!",
                             "Integrit√§t in action! üõ°Ô∏è Character-based decisions!", 
                             "Ethics first - und du lebst es! üß≠üíé Das ist wahre St√§rke!",
                             "Trustworthy excellence! üìã Du gehst mit Fokus und Ehrlichkeit vor!",
                             "Character over convenience! üéØ Deine Prinzipien zahlen sich aus!",
                             "Trust is earned, respect is given! ü§ù Du beweist beides!",
                             "Ethical leadership in practice! ‚öñÔ∏è Verl√§ssliches Wissen - genau dein Ding!"
                         ],
                         mina: [
                             "Wundersch√∂n sorgf√§ltig! üè•üíù Deine Geduld f√ºhrt zu Pr√§zision!",
                             "Empathie und Konzentration - perfekte Kombination! ‚öïÔ∏èüîç", 
                             "Zeit genommen, Qualit√§t erreicht! ‚è∞ Das ist Healthcare Excellence!",
                             "Mit F√ºrsorge zum Erfolg! üíñ Deine Aufmerksamkeit zeigt Professionalit√§t!",
                             "Caring hands, brilliant mind! ü§ó Du verstehst die Details!",
                             "Pr√§zision durch Ruhe! üíù Das ist echte Fachkompetenz!",
                             "Healthcare hero in action! üè• Du machst den Unterschied!"
                         ],
                         nuru: ["Antwort analysiert ‚Äì logisch korrekt!", "Datenlage klar ‚Äì n√§chster Schritt freigeschaltet!", "System-Check erfolgreich!"]
                     };
                     
                     if (avatarSpecificMessages[window.currentAvatar]) {
                         avatarMessages = avatarSpecificMessages[window.currentAvatar];
                     }
                 }
                 
                 const randomMessage = avatarMessages[Math.floor(Math.random() * avatarMessages.length)];
                 document.getElementById('avatar-bubble').textContent = randomMessage;
             } else if (isRiskQuestion) {
                 // Risikofrage falsch beantwortet
                 document.getElementById('avatar-bubble').textContent = 'üí• Risikofrage falsch! In der finalen Version: Level-Neustart!';
                 // In echter Implementation w√ºrde hier das Level neu gestartet
             } else if (isTeamQuestion) {
                 // Teamfrage falsch beantwortet
                 document.getElementById('avatar-bubble').textContent = 'üë• Teamfrage leider falsch! Kein Squad Sync Badge diesmal.';
             }
            
            document.getElementById('quiz-score').textContent = quizScore;
            document.getElementById('next-question-btn').style.display = 'block';
        }

        function nextQuestion() {
            currentQuestionIndex++;
            loadQuestion();
        }

                 function completeQuiz() {
             const accuracy = Math.round((correctAnswers / totalQuestions) * 100);
             
             // Update completion stats
             document.getElementById('final-score').textContent = quizScore;
             document.getElementById('final-accuracy').textContent = accuracy + '%';
             
             // Gamification: Level-Completion Bonus
             const bonusXP = accuracy >= 80 ? 100 : 50;
             updateGamificationStats(bonusXP, null);
             
             // Badge vergeben basierend auf Leistung
             if (accuracy >= 90) {
                 earnBadge('üèÜ', 'Quiz Master');
             } else if (accuracy >= 80) {
                 earnBadge('ü•á', 'Quiz Expert');
             } else if (accuracy >= 70) {
                 earnBadge('ü•à', 'Quiz Profi');
             }

             // Spezielle Badges je nach Thema und Avatar
             const firstQuestion = demoQuestions[0];
             if (firstQuestion && firstQuestion.category) {
                 if (firstQuestion.category === 'resilience' && accuracy >= 80) {
                     earnBadge('üí™', 'Resilienz Coach');
                 } else if (firstQuestion.category === 'gaming' && accuracy >= 80 && window.currentAvatar === 'jo') {
                     earnBadge('üéÆ', 'Gaming Guru');
                 } else if (firstQuestion.category === 'azubi' && accuracy >= 75 && window.currentAvatar === 'jo') {
                     earnBadge('üéì', 'Azubi Champion');
                 } else if (firstQuestion.category === 'diversity' && accuracy >= 80 && window.currentAvatar === 'farida') {
                     earnBadge('üåà', 'Diversity Champion');
                 } else if (firstQuestion.category === 'inclusion' && accuracy >= 80 && window.currentAvatar === 'farida') {
                     earnBadge('ü§ù', 'Inclusion Expert');
                 } else if (firstQuestion.category === 'cultural' && accuracy >= 80 && window.currentAvatar === 'farida') {
                     earnBadge('üåç', 'Cultural Bridge Builder');
                 } else if (firstQuestion.category === 'analytics' && accuracy >= 80 && window.currentAvatar === 'aya') {
                     earnBadge('üìä', 'Analytics Expert');
                 } else if (firstQuestion.category === 'process' && accuracy >= 80 && window.currentAvatar === 'aya') {
                     earnBadge('‚öôÔ∏è', 'Process Optimizer');
                 } else if (firstQuestion.category === 'business' && accuracy >= 80 && window.currentAvatar === 'aya') {
                     earnBadge('üìà', 'Business Intelligence Expert');
                 } else if (firstQuestion.category === 'inspiration' && accuracy >= 80 && window.currentAvatar === 'amara') {
                     earnBadge('üåü', 'Inspiration Master');
                 } else if (firstQuestion.category === 'leadership' && accuracy >= 80 && window.currentAvatar === 'amara') {
                     earnBadge('üëë', 'Authentic Leader');
                 } else if (firstQuestion.category === 'development' && accuracy >= 80 && window.currentAvatar === 'amara') {
                     earnBadge('ü¶ã', 'Growth Expert');
                 } else if (firstQuestion.category === 'sports' && accuracy >= 80 && window.currentAvatar === 'leo') {
                     earnBadge('üèÜ', 'Sports Champion');
                 } else if (firstQuestion.category === 'motivation' && accuracy >= 80 && window.currentAvatar === 'leo') {
                     earnBadge('üî•', 'Motivation Expert');
                 } else if (firstQuestion.category === 'healthcare' && accuracy >= 80 && window.currentAvatar === 'mina') {
                     earnBadge('üè•', 'Healthcare Hero');
                 } else if (firstQuestion.category === 'ethics' && accuracy >= 80 && window.currentAvatar === 'malik') {
                     earnBadge('‚öñÔ∏è', 'Ethics Champion');
                 } else if (['healthcare', 'tech', 'legal', 'production', 'government'].includes(firstQuestion.category) && accuracy >= 85) {
                     const jobBadges = { healthcare: 'üßº', tech: 'üîê', legal: '‚öñÔ∏è', production: 'üß∞', government: 'üèõÔ∏è' };
                     const jobNames = { healthcare: 'Hygieneheld:in', tech: 'ZeroTrust Hero', legal: 'Legal Expert', production: 'Safety Champion', government: 'Verwaltungsprofi' };
                     earnBadge(jobBadges[firstQuestion.category], jobNames[firstQuestion.category]);
                 } else {
                     // Standard Legal-Badges f√ºr gemischte Themen
                     const legalTopics = ['AI', 'DSGVO', 'Compliance', 'Datenschutz'];
                     const randomLegalTopic = legalTopics[Math.floor(Math.random() * legalTopics.length)];
                     if (accuracy >= 85 && Math.random() > 0.5) {
                         earnBadge('‚öñÔ∏è', `${randomLegalTopic} Expert`);
                     }
                 }
             }

             // Avatar-spezielle Badges basierend auf Performance
             if (window.currentAvatar === 'jo' && accuracy >= 90) {
                 earnBadge('‚ö°', 'Gen-Z Leader');
             } else if (window.currentAvatar === 'jo' && accuracy === 100) {
                 earnBadge('üëë', 'Flawless Victory');
             } else if (window.currentAvatar === 'farida' && accuracy >= 90) {
                 earnBadge('üíù', 'Empathy Leader');
             } else if (window.currentAvatar === 'farida' && accuracy === 100) {
                 earnBadge('üïäÔ∏è', 'Peace Builder');
             } else if (window.currentAvatar === 'aya' && accuracy >= 90) {
                 earnBadge('üß†', 'Logic Master');
             } else if (window.currentAvatar === 'aya' && accuracy === 100) {
                 earnBadge('üéØ', 'Perfect Analyst');
             } else if (window.currentAvatar === 'amara' && accuracy >= 90) {
                 earnBadge('üí´', 'Transformation Leader');
             } else if (window.currentAvatar === 'amara' && accuracy === 100) {
                 earnBadge('‚ú®', 'Inspiration Guru');
             } else if (window.currentAvatar === 'leo' && accuracy >= 90) {
                 earnBadge('‚ö°', 'Peak Performer');
             } else if (window.currentAvatar === 'leo' && accuracy === 100) {
                 earnBadge('ü•á', 'Champion Mindset');
             } else if (window.currentAvatar === 'mina' && accuracy >= 90) {
                 earnBadge('üíñ', 'Care Excellence');
             } else if (window.currentAvatar === 'mina' && accuracy === 100) {
                 earnBadge('ü§ó', 'Healthcare Genius');
             } else if (window.currentAvatar === 'malik' && accuracy >= 90) {
                 earnBadge('üíé', 'Trust Master');
             } else if (window.currentAvatar === 'malik' && accuracy === 100) {
                 earnBadge('üõ°Ô∏è', 'Ethics Legend');
             }
             
             // Avatar gratuliert - Avatar-spezifische Nachrichten
             if (window.currentAvatar === 'nuru') {
                 const nuruCompletionMessages = [
                     `ü§ñ Analysis complete! ${accuracy}% performance - ${accuracy >= 80 ? 'EXPERT LEVEL!' : 'System optimization recommended!'} üìä`,
                     `‚ö° Security knowledge validated! ${accuracy}% - ${accuracy >= 80 ? 'Zero vulnerabilities detected!' : 'Debugging mode active!'} üõ°Ô∏è`,
                     `üíª Tech assessment finished! ${accuracy}% - ${accuracy >= 80 ? 'AI approves this performance!' : 'Continue learning protocols!'} üöÄ`,
                     `üîç Data processing complete! ${accuracy}% accuracy - ${accuracy >= 80 ? 'Outstanding algorithm!' : 'Recalibration suggested!'} ‚ú®`
                 ];
                 document.getElementById('avatar-bubble').textContent = nuruCompletionMessages[Math.floor(Math.random() * nuruCompletionMessages.length)];
             } else if (window.currentAvatar === 'jo') {
                 const joCompletionMessages = [
                     `üéÆ GG WP! ${accuracy}% completion - ${accuracy >= 80 ? 'FLAWLESS VICTORY!' : 'Respawn and try again!'} üî•`,
                     `‚ö° Level cleared! ${accuracy}% score - ${accuracy >= 80 ? 'Main character energy!' : 'Training mode activated!'} üèÜ`,
                     `üöÄ Achievement unlocked! ${accuracy}% performance - ${accuracy >= 80 ? 'You\'re absolutely cracked!' : 'Skill issue detected - but you got this!'} üíØ`,
                     `üéØ Quest complete! ${accuracy}% accuracy - ${accuracy >= 80 ? 'No cap, you\'re insane!' : 'Practice makes perfect, King/Queen!'} ‚ú®`
                 ];
                 document.getElementById('avatar-bubble').textContent = joCompletionMessages[Math.floor(Math.random() * joCompletionMessages.length)];
             } else if (window.currentAvatar === 'farida') {
                 const faridaCompletionMessages = [
                     `üåç Gemeinsam geschafft! ${accuracy}% Ergebnis - ${accuracy >= 80 ? 'Du verstehst Vielfalt und Respekt!' : 'Jeder Schritt ist wertvoll - weiter so!'} üíù`,
                     `ü§ù Mit Empathie zum Erfolg! ${accuracy}% - ${accuracy >= 80 ? 'Deine inklusive Haltung ist inspirierend!' : 'Gemeinsam wachsen wir weiter!'} üåü`,
                     `üåà Br√ºcken gebaut! ${accuracy}% Performance - ${accuracy >= 80 ? 'Du verbindest Menschen und Kulturen!' : 'Respekt und Verst√§ndnis brauchen Zeit!'} ‚ú®`,
                     `üíù Lernen abgeschlossen! ${accuracy}% Genauigkeit - ${accuracy >= 80 ? 'Deine Empathie macht den Unterschied!' : 'Jede Perspektive bereichert uns!'} üïäÔ∏è`
                 ];
                 document.getElementById('avatar-bubble').textContent = faridaCompletionMessages[Math.floor(Math.random() * faridaCompletionMessages.length)];
             } else if (window.currentAvatar === 'aya') {
                 const ayaCompletionMessages = [
                     `üìä Analyse abgeschlossen! ${accuracy}% Effizienz - ${accuracy >= 80 ? 'KPIs √ºbertroffen! Systematischer Erfolg!' : 'Optimierungspotential erkannt!'} üéØ`,
                     `üîç Datenauswertung complete! ${accuracy}% Performance - ${accuracy >= 80 ? 'Logik best√§tigt - perfekte Systematik!' : 'Iteration erforderlich - Verbesserung m√∂glich!'} üìà`,
                     `‚öôÔ∏è Process Review finished! ${accuracy}% Qualit√§t - ${accuracy >= 80 ? 'Six Sigma Standard erreicht!' : 'Continuous Improvement aktiviert!'} ‚úÖ`,
                     `üìà Analytics Report: ${accuracy}% accuracy - ${accuracy >= 80 ? 'Business Intelligence optimal!' : 'Datenqualit√§t verbesserungsf√§hig!'} üß†`
                 ];
                 document.getElementById('avatar-bubble').textContent = ayaCompletionMessages[Math.floor(Math.random() * ayaCompletionMessages.length)];
             } else if (window.currentAvatar === 'amara') {
                 const amaraCompletionMessages = [
                     `üåü Growth Journey complete! ${accuracy}% Inspiration - ${accuracy >= 80 ? 'Du w√§chst √ºber dich hinaus! Authentische St√§rke!' : 'Jeder Schritt macht dich st√§rker!'} üå±`,
                     `‚ú® Personal Development: ${accuracy}% Achievement - ${accuracy >= 80 ? 'Transformation sichtbar - du inspirierst andere!' : 'Deine Reise geht weiter - Potential entfaltet sich!'} üí´`,
                     `ü¶ã Reflection & Growth: ${accuracy}% Progress - ${accuracy >= 80 ? 'Lernen ist deine Superpower! Authentisch brilliant!' : 'Inspiration entsteht durch Handeln!'} üåü`,
                     `üí™ Leadership Development: ${accuracy}% success - ${accuracy >= 80 ? 'Dein Potential ist grenzenlos! F√ºhre mit Herz!' : 'Selbstf√ºhrung in progress!'} ‚≠ê`
                 ];
                 document.getElementById('avatar-bubble').textContent = amaraCompletionMessages[Math.floor(Math.random() * amaraCompletionMessages.length)];
             } else if (window.currentAvatar === 'leo') {
                 const leoCompletionMessages = [
                     `üèÜ Champions Performance! ${accuracy}% Success Rate - ${accuracy >= 80 ? 'Peak performance reached! Du hast den Mindset!' : 'Training pays off - winners never quit!'} ‚ö°`,
                     `üí™ Team Spirit Report: ${accuracy}% Excellence - ${accuracy >= 80 ? 'Beast mode activated! Mental toughness shows!' : 'Energy flows where focus goes!'} üî•`,
                     `ü•á Sports Psychology: ${accuracy}% Achievement - ${accuracy >= 80 ? 'Champions mindset unlocked! Teamwork perfection!' : 'Excellence is a habit - keep training!'} üöÄ`,
                     `‚öΩ Performance Analysis: ${accuracy}% power - ${accuracy >= 80 ? 'Professional level reached! Du inspirierst andere!' : 'No pain, no gain - next level incoming!'} üéØ`
                 ];
                 document.getElementById('avatar-bubble').textContent = leoCompletionMessages[Math.floor(Math.random() * leoCompletionMessages.length)];
             } else if (window.currentAvatar === 'mina') {
                 const minaCompletionMessages = [
                     `üè• Healthcare Excellence! ${accuracy}% Precision - ${accuracy >= 80 ? 'Sorgfalt f√ºhrt zu Perfektion! Caring brilliance!' : 'Geduld und Konzentration zahlen sich aus!'} üíù`,
                     `‚öïÔ∏è Care Quality Report: ${accuracy}% Empathie - ${accuracy >= 80 ? 'Mit F√ºrsorge zum Erfolg! Healthcare hero!' : 'Zeit nehmen bringt Qualit√§t!'} üîç`,
                     `üíñ Patient Care: ${accuracy}% Aufmerksamkeit - ${accuracy >= 80 ? 'Pr√§zision durch Ruhe! Du machst den Unterschied!' : 'Empathie ist deine St√§rke!'} ‚è∞`,
                     `ü§ó Healthcare Analysis: ${accuracy}% dedication - ${accuracy >= 80 ? 'Caring hands, brilliant mind! Professional excellence!' : 'Sorgfalt rettet Leben!'} üè•`
                 ];
                 document.getElementById('avatar-bubble').textContent = minaCompletionMessages[Math.floor(Math.random() * minaCompletionMessages.length)];
             } else if (window.currentAvatar === 'malik') {
                 const malikCompletionMessages = [
                     `ü§ù Trust & Ethics Report! ${accuracy}% Integrity - ${accuracy >= 80 ? 'Character-based excellence! Trust earned!' : 'Vertrauen wird durch Taten aufgebaut!'} ‚öñÔ∏è`,
                     `üõ°Ô∏è Ethics Analysis: ${accuracy}% Reliability - ${accuracy >= 80 ? 'Integrit√§t in action! Trustworthy leadership!' : 'Character over convenience!'} üíé`,
                     `üß≠ Moral Compass: ${accuracy}% Principles - ${accuracy >= 80 ? 'Ethics first - und du lebst es! Wahre St√§rke!' : 'Ehrlichkeit ist der Grundstein!'} üéØ`,
                     `üìã Trust Building: ${accuracy}% consistency - ${accuracy >= 80 ? 'Verl√§sslichkeit bewiesen! Ethical leadership!' : 'Trust is earned step by step!'} ü§ù`
                 ];
                 document.getElementById('avatar-bubble').textContent = malikCompletionMessages[Math.floor(Math.random() * malikCompletionMessages.length)];
             } else {
                 document.getElementById('avatar-bubble').textContent = `Quiz abgeschlossen! ${accuracy}% Accuracy! üéä`;
             }
             
             showMinigameSelection();
         }

        function showMinigameSelection() {
            showScreen('minigame-selection');
        }

        function backToMinigameSelection() {
            // Reset active minigame
            if (minigameTimer) clearInterval(minigameTimer);
            currentMinigame = null;
            showScreen('minigame-selection');
        }

        // ===================================================
        // üéÆ MINIGAME LOGIC (unchanged)
        // ===================================================

        function startMinigame(gameType) {
            currentMinigame = gameType;
            minigameScore = 0;
            minigameStartTime = Date.now();
            
            showScreen('minigame-active');
            
            switch(gameType) {
                case 'memory':
                    startMemoryGame();
                    break;
                case 'word':
                    startWordGame();
                    break;
                case 'reaction':
                    startReactionGame();
                    break;
                case 'puzzle':
                    startPuzzleGame();
                    break;
            }
        }

        function startMinigameTimer(duration) {
            minigameTimeLeft = duration;
            document.getElementById('minigame-timer').textContent = minigameTimeLeft;
            
            minigameTimer = setInterval(() => {
                minigameTimeLeft--;
                document.getElementById('minigame-timer').textContent = minigameTimeLeft;
                
                if (minigameTimeLeft <= 0) {
                    endMinigame();
                }
            }, 1000);
        }

        function updateMinigameScore(points) {
            minigameScore += points;
            document.getElementById('minigame-score').textContent = minigameScore;
        }

                 function endMinigame() {
             if (minigameTimer) clearInterval(minigameTimer);
             
             const timeTaken = Math.ceil((Date.now() - minigameStartTime) / 1000);
             const accuracy = calculateMinigameAccuracy();
             const ranking = calculateRanking(minigameScore, accuracy);
             
             // Berufsspezifische Badge-Vergabe
             if (accuracy >= 85) {
                 const jobBadges = ['üßº', 'üîê', 'üß∞', 'üèõÔ∏è', '‚öñÔ∏è'];
                 const jobNames = ['Hygieneheld:in', 'ZeroTrust Hero', 'Safety Champion', 'Verwaltungsprofi', 'Legal Expert'];
                 const randomIndex = Math.floor(Math.random() * jobBadges.length);
                 
                 if (Math.random() > 0.6) {
                     earnBadge(jobBadges[randomIndex], jobNames[randomIndex]);
                 }
             }
             
             showResults(minigameScore, timeTaken, accuracy, ranking);
         }

        function calculateMinigameAccuracy() {
            switch(currentMinigame) {
                case 'memory':
                    return matchedPairs > 0 ? (matchedPairs / 8) * 100 : 0;
                case 'word':
                    return minigameScore > 0 ? 100 : 0;
                case 'reaction':
                    return Math.min(100, minigameScore * 2);
                case 'puzzle':
                    return minigameScore > 50 ? 100 : 0;
                default:
                    return 0;
            }
        }

        function calculateRanking(score, accuracy) {
            if (accuracy >= 95) return { rank: 'Platin', icon: 'üèÜ' };
            if (accuracy >= 85) return { rank: 'Gold', icon: 'ü•á' };
            if (accuracy >= 70) return { rank: 'Silber', icon: 'ü•à' };
            return { rank: 'Bronze', icon: 'ü•â' };
        }

        function showResults(score, time, accuracy, ranking) {
            document.getElementById('modal-score').textContent = score;
            document.getElementById('modal-time').textContent = time + 's';
            document.getElementById('modal-accuracy').textContent = Math.round(accuracy) + '%';
            document.getElementById('modal-ranking').textContent = ranking.icon + ' ' + ranking.rank;
            
            document.getElementById('results-modal').style.display = 'flex';
        }

        // ===================================================
        // üß† MEMORY GAME (unchanged)
        // ===================================================

        function startMemoryGame() {
            document.getElementById('minigame-instruction').textContent = 
                'Finden Sie alle Paare! Klicken Sie auf die Karten, um sie umzudrehen.';
            
            const symbols = ['üßº', 'üöø', 'üß¥', 'üßΩ', 'ü¶†', 'üíä', 'üß™', 'ü•Ω'];
            const cards = [...symbols, ...symbols]; // Doppelt f√ºr Paare
            
            // Karten mischen
            for (let i = cards.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [cards[i], cards[j]] = [cards[j], cards[i]];
            }
            
            memoryCards = cards.map((symbol, index) => ({
                id: index,
                symbol,
                flipped: false,
                matched: false
            }));
            
            flippedCards = [];
            matchedPairs = 0;
            
            renderMemoryGame();
            startMinigameTimer(60);
        }

        function renderMemoryGame() {
            const content = `
                <div class="memory-grid">
                    ${memoryCards.map((card, index) => `
                        <div class="memory-card ${card.flipped || card.matched ? 'flipped' : ''} ${card.matched ? 'matched' : ''}" 
                             onclick="flipMemoryCard(${index})">
                            ${card.flipped || card.matched ? card.symbol : '‚ùì'}
                        </div>
                    `).join('')}
                </div>
                <p style="text-align: center; margin-top: 20px; font-size: 1.2rem;">
                    Gefundene Paare: ${matchedPairs}/8
                </p>
            `;
            
            document.getElementById('minigame-content').innerHTML = content;
        }

        function flipMemoryCard(index) {
            if (flippedCards.length >= 2 || flippedCards.includes(index)) return;
            if (memoryCards[index].matched) return;

            memoryCards[index].flipped = true;
            flippedCards.push(index);
            
            renderMemoryGame();

            if (flippedCards.length === 2) {
                setTimeout(checkMemoryMatch, 1000);
            }
        }

        function checkMemoryMatch() {
            const [first, second] = flippedCards;
            const firstCard = memoryCards[first];
            const secondCard = memoryCards[second];

            if (firstCard.symbol === secondCard.symbol) {
                // Match!
                firstCard.matched = true;
                secondCard.matched = true;
                matchedPairs++;
                updateMinigameScore(20);
                
                if (matchedPairs === 8) {
                    setTimeout(endMinigame, 500);
                }
            } else {
                // No match
                firstCard.flipped = false;
                secondCard.flipped = false;
            }

            flippedCards = [];
            renderMemoryGame();
        }

        // ===================================================
        // üî§ WORD GAME (unchanged)
        // ===================================================

        function startWordGame() {
            document.getElementById('minigame-instruction').textContent = 
                'Bringen Sie die Buchstaben in die richtige Reihenfolge!';
            
            const words = ['HYGIENE', 'SICHERHEIT', 'QUALIT√ÑT', 'TEAMWORK'];
            const word = words[Math.floor(Math.random() * words.length)];
            const scrambled = word.split('').sort(() => Math.random() - 0.5).join('');
            
            const content = `
                <div style="text-align: center;">
                    <div style="font-size: 2.5rem; font-weight: bold; color: #667eea; margin: 20px 0; letter-spacing: 4px;">
                        ${scrambled}
                    </div>
                    <div style="margin-bottom: 30px; color: #666;">
                        Hinweis: Arbeitsplatz-bezogener Begriff
                    </div>
                    <input type="text" id="word-input" style="
                        border: 3px solid #667eea; 
                        border-radius: 10px; 
                        padding: 15px; 
                        font-size: 1.5rem; 
                        text-align: center; 
                        width: 300px;
                        text-transform: uppercase;
                    " placeholder="Ihre Antwort..." maxlength="${word.length}">
                    <br><br>
                    <button class="start-button" onclick="checkWordAnswer('${word}')">
                        Antwort pr√ºfen
                    </button>
                </div>
            `;
            
            document.getElementById('minigame-content').innerHTML = content;
            document.getElementById('word-input').focus();
            startMinigameTimer(45);
        }

        function checkWordAnswer(correctWord) {
            const userInput = document.getElementById('word-input').value.toUpperCase();
            
            if (userInput === correctWord) {
                updateMinigameScore(100);
                setTimeout(endMinigame, 500);
            } else {
                document.getElementById('word-input').value = '';
                document.getElementById('word-input').style.borderColor = '#ff6b6b';
                setTimeout(() => {
                    document.getElementById('word-input').style.borderColor = '#667eea';
                }, 1000);
            }
        }

        // ===================================================
        // ‚ö° REACTION GAME (unchanged)
        // ===================================================

        function startReactionGame() {
            document.getElementById('minigame-instruction').textContent = 
                'Entscheiden Sie schnell: Ist die Aussage RICHTIG oder FALSCH?';
            
            const content = `
                <div style="text-align: center;">
                    <div style="font-size: 1.5rem; margin: 30px 0; padding: 20px; background: #f8f9fa; border-radius: 15px;">
                        Bei einem Brand sollte man den Aufzug benutzen
                    </div>
                    <div style="display: flex; gap: 30px; justify-content: center;">
                        <button class="start-button" onclick="handleReaction(true, false)" style="background: #4ECDC4;">
                            ‚úÖ RICHTIG
                        </button>
                        <button class="start-button" onclick="handleReaction(false, false)" style="background: #ff6b6b;">
                            ‚ùå FALSCH
                        </button>
                    </div>
                </div>
            `;
            
            document.getElementById('minigame-content').innerHTML = content;
            startMinigameTimer(30);
        }

        function handleReaction(userChoice, correct) {
            if (userChoice === correct) {
                updateMinigameScore(25);
            }
            
            // F√ºr Demo: Nach einer Frage beenden
            setTimeout(endMinigame, 1000);
        }

        // ===================================================
        // üß© PUZZLE GAME (unchanged)
        // ===================================================

        function startPuzzleGame() {
            document.getElementById('minigame-instruction').textContent = 
                'Klicken Sie auf "Puzzle l√∂sen" um das 3x3-Puzzle zu vervollst√§ndigen!';
            
            const content = `
                <div style="text-align: center;">
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 2px; width: 240px; margin: 20px auto; background: #667eea; padding: 10px; border-radius: 10px;">
                        <div style="background: white; height: 60px; display: flex; align-items: center; justify-content: center; font-weight: bold;">1</div>
                        <div style="background: white; height: 60px; display: flex; align-items: center; justify-content: center; font-weight: bold;">2</div>
                        <div style="background: white; height: 60px; display: flex; align-items: center; justify-content: center; font-weight: bold;">3</div>
                        <div style="background: white; height: 60px; display: flex; align-items: center; justify-content: center; font-weight: bold;">4</div>
                        <div style="background: white; height: 60px; display: flex; align-items: center; justify-content: center; font-weight: bold;">5</div>
                        <div style="background: white; height: 60px; display: flex; align-items: center; justify-content: center; font-weight: bold;">6</div>
                        <div style="background: white; height: 60px; display: flex; align-items: center; justify-content: center; font-weight: bold;">7</div>
                        <div style="background: white; height: 60px; display: flex; align-items: center; justify-content: center; font-weight: bold;">8</div>
                        <div style="background: #e0e0e0; height: 60px;"></div>
                    </div>
                    <button class="start-button" onclick="solvePuzzle()">
                        üß© Puzzle l√∂sen
                    </button>
                </div>
            `;
            
            document.getElementById('minigame-content').innerHTML = content;
            startMinigameTimer(90);
        }

        function solvePuzzle() {
            updateMinigameScore(75);
            setTimeout(endMinigame, 1000);
        }

        // ===================================================
        // üéØ INITIALIZATION
        // ===================================================

        document.addEventListener('DOMContentLoaded', function() {
            console.log('üéÆ JunoSixteen mit Login & Pfadauswahl geladen!');
            
            // Simulate AI activity
            setInterval(() => {
                const indicator = document.getElementById('ai-indicator');
                const states = ['ü§ñ KI bereit', 'üß† UL analysiert', 'ü§ñ MCP aktiv', 'üìä Daten verarbeitet...'];
                const randomState = states[Math.floor(Math.random() * states.length)];
                indicator.textContent = randomState;
            }, 3000);
        });

        // Close modal when clicking outside
        window.onclick = function(event) {
            if (event.target === document.getElementById('results-modal')) {
                document.getElementById('results-modal').style.display = 'none';
            }
        }
    </script>
</body>
</html> 
</html> 